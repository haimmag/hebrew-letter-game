<html lang="he" dir="rtl">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×”××•×ª×™×•×ª ×”×¢×‘×¨×™×•×ª</title>
    <meta http-equiv="Permissions-Policy" content="microphone=*">
    <meta http-equiv="Feature-Policy" content="microphone *">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .letter-selector {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .letters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .letter-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px;
            font-size: 1.8em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .letter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .letter-btn.selected {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            transform: scale(1.1);
        }

        .game-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
        }

        .game-area.active {
            display: block;
        }

        .word-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .word-image {
            width: 200px;
            height: 200px;
            background: #f0f0f0;
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            border: 3px solid #ddd;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .word-text {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .word-translation {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
        }

        .btn-info {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .recording-indicator {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            color: #f44336;
            font-weight: bold;
            margin: 10px 0;
        }

        .recording-indicator.active {
            display: flex;
        }

        .pulse {
            width: 10px;
            height: 10px;
            background: #f44336;
            border-radius: 50%;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.5);
                opacity: 0.5;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .score {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }

        .similarity-score {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            color: #007bff;
            margin-bottom: 20px;
        }

        .position-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .position-btn {
            padding: 10px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .position-btn.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .next-word-btn {
            background: linear-gradient(45deg, #FF9800, #F57C00);
            color: white;
            margin: 0 auto;
            display: block;
        }

        .feedback {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
            display: none;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #99d3ff;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .letters-grid {
                grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
            }

            .letter-btn {
                padding: 10px;
                font-size: 1.5em;
            }

            .word-image {
                width: 150px;
                height: 150px;
                font-size: 3em;
            }

            .word-text {
                font-size: 2em;
            }
        }

        /* Voice Display Styles */
        .voices-display {
            border-radius: 5px;
            margin-top: 20px;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }

        .voices-list {
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .voice-item {
            background: #e9e9e9;
            padding: 5px 10px;
            border-radius: 15px;
            border: 1px solid #ccc;
            font-size: 12px;
            white-space: nowrap;
        }

        .voice-item.hebrew {
            background: #e8f5e8;
            border-color: #4caf50;
            font-weight: bold;
        }

        .words-list {
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .word-item {
            background: #e0e7ff;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            border: 1px solid #c3d4ff;
        }
    </style>
</head>

<body id="artifacts-component-root-html">
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ ××©×—×§ ×”××•×ª×™×•×ª ×”×¢×‘×¨×™×•×ª</h1>
            <p>×‘×—×¨ ××•×ª ×•×œ××“ ××™×œ×™× ×—×“×©×•×ª!</p>
        </div>

        <div class="letter-selector">
            <h2 style="text-align: center; margin-bottom: 20px; color: #333;">×‘×—×¨ ××•×ª ×¢×‘×¨×™×ª:</h2>
            <div class="letters-grid" id="lettersGrid"></div>
        </div>

        <div class="game-area" id="gameArea">
            <div class="score" id="score">× ×™×§×•×“: 0</div>
            <div class="similarity-score" id="similarityScore">×“××™×•×Ÿ: 0%</div>

            <div class="position-selector">
                <button class="position-btn active" data-position="start">×”×ª×—×œ×”</button>
                <button class="position-btn" data-position="middle">×××¦×¢</button>
                <button class="position-btn" data-position="end">×¡×•×£</button>
            </div>

            <div class="word-display">
                <div class="word-image" id="wordImage">ğŸ¯</div>
                <div class="word-text" id="wordText">×‘×—×¨ ××•×ª ×›×“×™ ×œ×”×ª×—×™×œ</div>
                <div class="word-translation" id="wordTranslation"></div>
            </div>

            <div class="controls">
                <button class="btn btn-primary" id="playWordBtn">ğŸ”Š ×”×©××¢ ××™×œ×”</button>
                <button class="btn btn-danger" id="recordBtn">ğŸ¤ ×”×§×œ×˜ ×§×•×œ×š</button>
                <button class="btn btn-success" id="playRecordingBtn" disabled="">â–¶ï¸ ×”×©××¢ ×”×§×œ×˜×”</button>
                <button class="btn btn-info" id="analyzeSimilarityBtn" disabled="">ğŸ¯ ×‘×“×•×§ ×“××™×•×Ÿ</button>
            </div>

            <div class="recording-indicator" id="recordingIndicator">
                <div class="pulse"></div>
                <span>××§×œ×™×˜...</span>
            </div>

            <div class="feedback" id="feedback"></div>

            <button class="btn next-word-btn" id="nextWordBtn">â¡ï¸ ××™×œ×” ×”×‘××”</button>
        </div>
    </div>

    <!-- TTS Method Selection Dropdown -->
    <div class="tts-method-selection" style="margin: 15px 0; padding: 15px; border-radius: 10px;">
        <label for="ttsMethodSelect" style="display: block; margin-bottom: 8px; font-weight: bold;">ğŸ”Š ×‘×—×¨ ×©×™×˜×ª
            ×”×©××¢×”:</label>
        <select id="ttsMethodSelect"
            style="padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; background: white;">
            <option value="playWithGoogleTTSProxy">Google TTS (×“×¨×š Proxy)</option>
            <option value="playWithLocalTTS">TTS ××§×•××™ (×“×¤×“×¤×Ÿ)</option>
        </select>
        <div id="selectedTTSInfo" style="margin-top: 8px; font-size: 12px; color: #666; font-style: italic;">
            × ×‘×—×¨: Google TTS (×™×©×™×¨) - ×–××™×Ÿ ×‘×¨×•×‘ ×”×“×¤×“×¤× ×™×
        </div>
    </div>

    <!-- Voice Selection Dropdown -->
    <div class="voice-selection" style="margin: 15px 0; padding: 15px;">
        <label for="voiceSelect" style="display: block; margin-bottom: 8px; font-weight: bold;">ğŸ¤
            ×‘×—×¨ ×§×•×œ ×œ×”×©××¢×”:</label>
        <select id="voiceSelect"
            style="padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; background: white;">
            <option value="">×˜×•×¢×Ÿ ×§×•×œ×•×ª...</option>
        </select>
        <div id="selectedVoiceInfo" style="margin-top: 8px; font-size: 12px; color: #666; font-style: italic;">
            <!-- Will show selected voice info -->
        </div>
    </div>

    <!-- Voice Display -->
    <div id="voicesDisplay" class="voices-display">
        <div class="voices-list" id="voicesList">
            <!-- Voices will be populated dynamically -->
        </div>
        <div class="words-list" id="wordsList"></div>
    </div>

    <script>
        class HebrewLetterGame {
            constructor() {
                this.selectedLetter = null;
                this.currentWord = null;
                this.currentPosition = 'start';
                this.score = 0;
                this.similarityScore = 0;
                this.mediaRecorder = null;
                this.recordedAudio = null;
                this.isRecording = false;
                this.recognizedText = '';
                this.speechRecognition = null;
                this.recordingTimeout = null;
                this.selectedVoice = null; // Track the selected voice

                this.initializeWords();
                this.initializeUI();
                this.setupEventListeners();
                this.initializeSpeechRecognition();
                this.initializeVoiceSelection(); // Initialize voice dropdown
                this.autoSelectTTSMethod(); // Auto-select TTS method based on Hebrew voice availability
            }

            initializeWords() {
                this.words = {
                    '×': {
                        start: [
                            { word: '××‘×', translation: '××‘×', emoji: 'ğŸ‘¨' },
                            { word: '×××', translation: '×××', emoji: 'ğŸ‘©' },
                            { word: '××•×˜×•', translation: '××›×•× ×™×ª', emoji: 'ğŸš—' },
                            { word: '××•×–×Ÿ', translation: '××•×–×Ÿ', emoji: 'ğŸ‘‚' },
                            { word: '××£', translation: '××£', emoji: 'ğŸ‘ƒ' },
                            { word: '××‘×™×‘', translation: '××‘×™×‘', emoji: 'ğŸŒ¸' },
                            { word: '××“×•×', translation: '××“×•×', emoji: 'ğŸ”´' },
                            { word: '××¨× ×§', translation: '××¨× ×§', emoji: 'ğŸ‘›' },
                            { word: '××‘×Ÿ', translation: '××‘×Ÿ', emoji: 'ğŸª¨' },
                            { word: '××•×¨', translation: '××•×¨', emoji: 'ğŸ’¡' }
                        ],
                        middle: [
                            { word: '×‘×•××™', translation: '×‘×•××™', emoji: 'ğŸ‘‹' },
                            { word: '××××™×Ÿ', translation: '××××™×Ÿ', emoji: 'ğŸ™' },
                            { word: '×¨××©', translation: '×¨××©', emoji: 'ğŸ—£ï¸' },
                            { word: '×©×•××œ', translation: '×©×•××œ', emoji: 'â“' },
                            { word: '× ×•××©', translation: '× ×•××©', emoji: 'ğŸ˜”' },
                            { word: '××•××™×œ', translation: '××•××™×œ', emoji: 'âœ¨' },
                            { word: '×‘×•××š', translation: '×‘×•××š', emoji: 'ğŸ¯' },
                            { word: '×’××•×Ÿ', translation: '×’××•×Ÿ', emoji: 'ğŸ§ ' },
                            { word: '×××•×“', translation: '×××•×“', emoji: 'ğŸ’¯' },
                            { word: '×¤××¨', translation: '×¤××¨', emoji: 'ğŸ‘‘' }
                        ],
                        end: [
                            { word: '×‘×‘×', translation: '×‘×‘×', emoji: 'ğŸšª' },
                            { word: '×××', translation: '×××', emoji: 'ğŸ’' },
                            { word: '×¡×‘×', translation: '×¡×‘×', emoji: 'ğŸ‘´' },
                            { word: '×¡×‘×ª×', translation: '×¡×‘×ª×', emoji: 'ğŸ‘µ' },
                            { word: '×ª×', translation: '×ª×', emoji: 'ğŸ ' },
                            { word: '×§×¨×', translation: '×§×¨×', emoji: 'ğŸ“–' },
                            { word: '×‘×', translation: '×‘×', emoji: 'ğŸƒ' },
                            { word: '× ×', translation: '× ×', emoji: 'ğŸ™' },
                            { word: '×›×œ×', translation: '×›×œ×', emoji: 'ğŸ¢' },
                            { word: '××œ×', translation: '××œ×', emoji: 'ğŸª£' }
                        ]
                    },
                    '×‘': {
                        start: [
                            { word: '×‘×™×ª', translation: '×‘×™×ª', emoji: 'ğŸ ' },
                            { word: '×‘×Ÿ', translation: '×‘×Ÿ', emoji: 'ğŸ‘¦' },
                            { word: '×‘×ª', translation: '×‘×ª', emoji: 'ğŸ‘§' },
                            { word: '×‘×¨×š', translation: '×‘×¨×š', emoji: 'ğŸ¦µ' },
                            { word: '×‘×˜×Ÿ', translation: '×‘×˜×Ÿ', emoji: 'ğŸ¤°' },
                            { word: '×‘×™×¦×”', translation: '×‘×™×¦×”', emoji: 'ğŸ¥š' },
                            { word: '×‘× × ×”', translation: '×‘× × ×”', emoji: 'ğŸŒ' },
                            { word: '×‘×¨×–×œ', translation: '×‘×¨×–×œ', emoji: 'ğŸ”©' },
                            { word: '×‘×’×“', translation: '×‘×’×“', emoji: 'ğŸ‘•' },
                            { word: '×‘×•×‘×”', translation: '×‘×•×‘×”', emoji: 'ğŸª†' }
                        ],
                        middle: [
                            { word: '×—×‘×¨', translation: '×—×‘×¨', emoji: 'ğŸ‘«' },
                            { word: '×©×‘×ª', translation: '×©×‘×ª', emoji: 'ğŸ•¯ï¸' },
                            { word: '××‘×', translation: '××‘×', emoji: 'ğŸ‘¨' },
                            { word: '×–×‘×•×‘', translation: '×–×‘×•×‘', emoji: 'ğŸª°' },
                            { word: '×¢×‘', translation: '×¢×‘', emoji: 'â˜ï¸' },
                            { word: '×›×‘×©', translation: '×›×‘×©', emoji: 'ğŸ‘' },
                            { word: '×“×‘×©', translation: '×“×‘×©', emoji: 'ğŸ¯' },
                            { word: '×’×‘×¨', translation: '×’×‘×¨', emoji: 'ğŸ‘¨' },
                            { word: '×©×‘×¢', translation: '×©×‘×¢', emoji: '7ï¸âƒ£' },
                            { word: '×œ×‘×Ÿ', translation: '×œ×‘×Ÿ', emoji: 'âšª' }
                        ],
                        end: [
                            { word: '×œ×‘', translation: '×œ×‘', emoji: 'â¤ï¸' },
                            { word: '×–×”×‘', translation: '×–×”×‘', emoji: 'ğŸ¥‡' },
                            { word: '×–×™×ª×•×Ÿ', translation: '×–×™×ª×•×Ÿ', emoji: 'ğŸ«’' },
                            { word: '×–××Ÿ', translation: '×–××Ÿ', emoji: 'â°' },
                            { word: '×–×›×•×›×™×ª', translation: '×–×›×•×›×™×ª', emoji: 'ğŸªŸ' },
                            { word: '×–×•×’', translation: '×–×•×’', emoji: 'ğŸ‘«' },
                            { word: '×–× ×‘', translation: '×–× ×‘', emoji: 'ğŸ•' },
                            { word: '×–×¨×§', translation: '×–×¨×§', emoji: 'âš¾' }
                        ]
                    },
                    '×—': {
                        start: [
                            { word: '×—×ª×•×œ', translation: '×—×ª×•×œ', emoji: 'ğŸ±' },
                            { word: '×—×œ×‘', translation: '×—×œ×‘', emoji: 'ğŸ¥›' },
                            { word: '×—×•×', translation: '×—×•×', emoji: 'ğŸŸ¤' },
                            { word: '×—×’', translation: '×—×’', emoji: 'ğŸŠ' },
                            { word: '×—×œ×•×Ÿ', translation: '×—×œ×•×Ÿ', emoji: 'ğŸªŸ' },
                            { word: '×—×¨×‘', translation: '×—×¨×‘', emoji: 'âš”ï¸' },
                            { word: '×—×‘×¨', translation: '×—×‘×¨', emoji: 'ğŸ‘«' },
                            { word: '×—×›×', translation: '×—×›×', emoji: 'ğŸ§ ' },
                            { word: '×—×–×™×¨', translation: '×—×–×™×¨', emoji: 'ğŸ·' },
                            { word: '×—×“×¨', translation: '×—×“×¨', emoji: 'ğŸ ' }
                        ],
                        middle: [
                            { word: '××—×¨', translation: '××—×¨', emoji: 'ğŸ“…' },
                            { word: '×©×—×§', translation: '×©×—×§', emoji: 'ğŸ®' },
                            { word: '×‘×—×™×¨×”', translation: '×‘×—×™×¨×”', emoji: 'âœ…' },
                            { word: '××—×©×‘', translation: '××—×©×‘', emoji: 'ğŸ’»' },
                            { word: '×¨×—×•×‘', translation: '×¨×—×•×‘', emoji: 'ğŸ›£ï¸' },
                            { word: '×©×—×•×¨', translation: '×©×—×•×¨', emoji: 'âš«' },
                            { word: '×¤×—×•×ª', translation: '×¤×—×•×ª', emoji: 'â–' },
                            { word: '××—×“', translation: '××—×“', emoji: '1ï¸âƒ£' },
                            { word: '× ×—×©', translation: '× ×—×©', emoji: 'ğŸ' },
                            { word: '××—×‘×¨', translation: '××—×‘×¨', emoji: 'ğŸ“š' }
                        ],
                        end: [
                            { word: '×¨×•×—', translation: '×¨×•×—', emoji: 'ğŸ’¨' },
                            { word: '×›×—', translation: '×›×—', emoji: 'ğŸ’ª' },
                            { word: '×¤×ª×—', translation: '×¤×ª×—', emoji: 'ğŸšª' },
                            { word: '× ×—', translation: '× ×—', emoji: 'ğŸ˜´' },
                            { word: '×©×—', translation: '×©×—', emoji: 'ğŸ—£ï¸' },
                            { word: '×‘×—', translation: '×‘×—', emoji: 'ğŸ¯' },
                            { word: '×œ×—', translation: '×œ×—', emoji: 'ğŸ’§' },
                            { word: '×¨×—', translation: '×¨×—', emoji: 'ğŸŒŠ' },
                            { word: '×˜×—', translation: '×˜×—', emoji: 'ğŸ¨' },
                            { word: '×–×—', translation: '×–×—', emoji: 'ğŸ›' }
                        ]
                    },
                    '×˜': {
                        start: [
                            { word: '×˜×œ×¤×•×Ÿ', translation: '×˜×œ×¤×•×Ÿ', emoji: 'ğŸ“' },
                            { word: '×˜×•×‘', translation: '×˜×•×‘', emoji: 'ğŸ‘' },
                            { word: '×˜×‘×¢×ª', translation: '×˜×‘×¢×ª', emoji: 'ğŸ’' },
                            { word: '×˜×™×¤×”', translation: '×˜×™×¤×”', emoji: 'ğŸ’§' },
                            { word: '×˜×¢×', translation: '×˜×¢×', emoji: 'ğŸ‘…' },
                            { word: '×˜×™×•×œ', translation: '×˜×™×•×œ', emoji: 'ğŸ¥¾' },
                            { word: '×˜×œ×”', translation: '×˜×œ×”', emoji: 'ğŸ‘' },
                            { word: '×˜×™×œ', translation: '×˜×™×œ', emoji: 'ğŸš€' },
                            { word: '×˜×‘×—', translation: '×˜×‘×—', emoji: 'ğŸ‘¨â€ğŸ³' },
                            { word: '×˜×¨×§×˜×•×¨', translation: '×˜×¨×§×˜×•×¨', emoji: 'ğŸšœ' }
                        ],
                        middle: [
                            { word: '×—×™×˜×”', translation: '×—×™×˜×”', emoji: 'ğŸŒ¾' },
                            { word: '×§×™×˜×•×¨', translation: '×§×™×˜×•×¨', emoji: 'ğŸ’¨' },
                            { word: '×’×™×˜×¨×”', translation: '×’×™×˜×¨×”', emoji: 'ğŸ¸' },
                            { word: '××™×˜×”', translation: '××™×˜×”', emoji: 'ğŸ›ï¸' },
                            { word: '×‘×˜×Ÿ', translation: '×‘×˜×Ÿ', emoji: 'ğŸ¤°' },
                            { word: '××˜×‘×—', translation: '××˜×‘×—', emoji: 'ğŸ³' },
                            { word: '××˜×•×¡', translation: '××˜×•×¡', emoji: 'âœˆï¸' },
                            { word: '×§×˜×Ÿ', translation: '×§×˜×Ÿ', emoji: 'ğŸ”¸' },
                            { word: '×—×˜×™×£', translation: '×—×˜×™×£', emoji: 'ğŸ«' },
                            { word: '×©×˜×™×—', translation: '×©×˜×™×—', emoji: 'ğŸ§¿' }
                        ],
                        end: [
                            { word: '×—×¨×•×˜', translation: '×—×¨×•×˜', emoji: 'ğŸ“' },
                            { word: '×©×•×˜', translation: '×©×•×˜', emoji: 'ğŸ¹' },
                            { word: '×§×™×˜', translation: '×§×™×˜', emoji: 'ğŸ§°' },
                            { word: '×—×•×˜', translation: '×—×•×˜', emoji: 'ğŸ§µ' },
                            { word: '×‘×˜', translation: '×‘×˜', emoji: 'ğŸ' },
                            { word: '×’×˜', translation: '×’×˜', emoji: 'ğŸ“œ' },
                            { word: '×—×˜', translation: '×—×˜', emoji: 'ğŸ¯' },
                            { word: '×œ×˜', translation: '×œ×˜', emoji: 'ğŸ¤' },
                            { word: '××˜', translation: '××˜', emoji: 'â¬‡ï¸' },
                            { word: '× ×˜', translation: '× ×˜', emoji: 'ğŸ“' }
                        ]
                    },
                    '×™': {
                        start: [
                            { word: '×™×“', translation: '×™×“', emoji: 'âœ‹' },
                            { word: '×™×', translation: '×™×', emoji: 'ğŸŒŠ' },
                            { word: '×™×¨×—', translation: '×™×¨×—', emoji: 'ğŸŒ™' },
                            { word: '×™×¢×¨', translation: '×™×¢×¨', emoji: 'ğŸŒ²' },
                            { word: '×™×™×Ÿ', translation: '×™×™×Ÿ', emoji: 'ğŸ·' },
                            { word: '×™×•× ×”', translation: '×™×•× ×”', emoji: 'ğŸ•Šï¸' },
                            { word: '×™×¤×”', translation: '×™×¤×”', emoji: 'ğŸ˜' },
                            { word: '×™×œ×“', translation: '×™×œ×“', emoji: 'ğŸ‘¦' },
                            { word: '×™×¨×§', translation: '×™×¨×§', emoji: 'ğŸ¥¬' },
                            { word: '×™×”×œ×•×', translation: '×™×”×œ×•×', emoji: 'ğŸ’' }
                        ],
                        middle: [
                            { word: '×‘×™×ª', translation: '×‘×™×ª', emoji: 'ğŸ ' },
                            { word: '×—×™×™×', translation: '×—×™×™×', emoji: 'ğŸŒ±' },
                            { word: '××™×¥', translation: '××™×¥', emoji: 'ğŸ§ƒ' },
                            { word: '×‘×™×¦×”', translation: '×‘×™×¦×”', emoji: 'ğŸ¥š' },
                            { word: '×©×™×¢×¨', translation: '×©×™×¢×¨', emoji: 'ğŸ’‡' },
                            { word: '×›×™×¡×', translation: '×›×™×¡×', emoji: 'ğŸª‘' },
                            { word: '××™×', translation: '××™×', emoji: 'ğŸ’§' },
                            { word: '×ª×™×§', translation: '×ª×™×§', emoji: 'ğŸ’' },
                            { word: '×¤×™×œ', translation: '×¤×™×œ', emoji: 'ğŸ˜' },
                            { word: '×’×™×˜×¨×”', translation: '×’×™×˜×¨×”', emoji: 'ğŸ¸' }
                        ],
                        end: [
                            { word: '×§×¤×”', translation: '×§×¤×”', emoji: 'â˜•' },
                            { word: '×—×™', translation: '×—×™', emoji: 'ğŸ¾' },
                            { word: '×’×‘×™', translation: '×’×‘×™', emoji: 'ğŸ”' },
                            { word: '×‘×™', translation: '×‘×™', emoji: 'ğŸ‘†' },
                            { word: '×œ×™', translation: '×œ×™', emoji: 'ğŸ‘¨' },
                            { word: '×©×™', translation: '×©×™', emoji: 'ğŸ' },
                            { word: '×ª×™', translation: '×ª×™', emoji: 'ğŸµ' },
                            { word: '×›×™', translation: '×›×™', emoji: 'â“' },
                            { word: '××™', translation: '××™', emoji: 'â“' },
                            { word: '×¤×™', translation: '×¤×™', emoji: 'ğŸ‘„' }
                        ]
                    },
                    '×›': {
                        start: [
                            { word: '×›×œ×‘', translation: '×›×œ×‘', emoji: 'ğŸ•' },
                            { word: '×›×™×¡×', translation: '×›×™×¡×', emoji: 'ğŸª‘' },
                            { word: '×›×•×¡', translation: '×›×•×¡', emoji: 'ğŸ¥›' },
                            { word: '×›×“×•×¨', translation: '×›×“×•×¨', emoji: 'âš½' },
                            { word: '×›×£', translation: '×›×£', emoji: 'ğŸ¥„' },
                            { word: '×›×ª×¨', translation: '×›×ª×¨', emoji: 'ğŸ‘‘' },
                            { word: '×›×‘×©', translation: '×›×‘×©', emoji: 'ğŸ‘' },
                            { word: '×›×•×‘×¢', translation: '×›×•×‘×¢', emoji: 'ğŸ©' },
                            { word: '×›×•×›×‘', translation: '×›×•×›×‘', emoji: 'â­' },
                            { word: '×›×¨×˜×™×¡', translation: '×›×¨×˜×™×¡', emoji: 'ğŸ«' }
                        ],
                        middle: [
                            { word: '×‘×›×™×”', translation: '×‘×›×™×”', emoji: 'ğŸ˜­' },
                            { word: '××›×•× ×™×ª', translation: '××›×•× ×™×ª', emoji: 'ğŸš—' },
                            { word: '× ×›×“', translation: '× ×›×“', emoji: 'ğŸ‘¦' },
                            { word: '×©×›×Ÿ', translation: '×©×›×Ÿ', emoji: 'ğŸ˜ï¸' },
                            { word: '××•×›×œ', translation: '××•×›×œ', emoji: 'ğŸ½ï¸' },
                            { word: '×–×›×¨', translation: '×–×›×¨', emoji: 'ğŸ‘¨' },
                            { word: '×—×›×', translation: '×—×›×', emoji: 'ğŸ§ ' },
                            { word: '×¨×›×‘', translation: '×¨×›×‘', emoji: 'ğŸš™' },
                            { word: '×¨×•×¤×', translation: '×¨×•×¤×', emoji: 'ğŸ‘¨â€âš•ï¸' },
                            { word: '×¨×•×—', translation: '×¨×•×—', emoji: 'ğŸ’¨' },
                            { word: '×¨××–×•×¨', translation: '×¨××–×•×¨', emoji: 'ğŸš¦' },
                            { word: '×¨×“×™×•', translation: '×¨×“×™×•', emoji: 'ğŸ“»' },
                            { word: '×¨×§×˜×”', translation: '×¨×§×˜×”', emoji: 'ğŸš€' },
                            { word: '×¨×¦×¤×”', translation: '×¨×¦×¤×”', emoji: 'ğŸ ' },
                            { word: '×¨×¢×‘', translation: '×¨×¢×‘', emoji: 'ğŸ½ï¸' },
                            { word: '×¨×¢×©', translation: '×¨×¢×©', emoji: 'ğŸ”Š' }
                        ],
                        end: [
                            { word: '× ×¨', translation: '× ×¨', emoji: 'ğŸ•¯ï¸' },
                            { word: '×”×¨', translation: '×”×¨', emoji: 'ğŸ”ï¸' },
                            { word: '×‘×¨', translation: '×‘×¨', emoji: 'ğŸº' },
                            { word: '×’×¨', translation: '×’×¨', emoji: 'ğŸ ' },
                            { word: '×“×¨', translation: '×“×¨', emoji: 'ğŸšª' },
                            { word: '×–×¨', translation: '×–×¨', emoji: 'ğŸ’' },
                            { word: '×—×¨', translation: '×—×¨', emoji: 'ğŸ”¥' },
                            { word: '×›×¨', translation: '×›×¨', emoji: 'ğŸ›ï¸' },
                            { word: '×¤×¨', translation: '×¤×¨', emoji: 'ğŸ‚' },
                            { word: '×©×¨', translation: '×©×¨', emoji: 'ğŸµ' }
                        ]
                    },
                    '×©': {
                        start: [
                            { word: '×©××©', translation: '×©××©', emoji: 'â˜€ï¸' },
                            { word: '×©×•×œ×—×Ÿ', translation: '×©×•×œ×—×Ÿ', emoji: 'ğŸª‘' },
                            { word: '×©×¢×•×Ÿ', translation: '×©×¢×•×Ÿ', emoji: 'â°' },
                            { word: '×©×™×¢×¨', translation: '×©×™×¢×¨', emoji: 'ğŸ’‡' },
                            { word: '×©×•×§×•×œ×“', translation: '×©×•×§×•×œ×“', emoji: 'ğŸ«' },
                            { word: '×©×œ×’', translation: '×©×œ×’', emoji: 'â„ï¸' },
                            { word: '×©×£', translation: '×©×£', emoji: 'ğŸ‘¨â€ğŸ³' },
                            { word: '×©×§×˜', translation: '×©×§×˜', emoji: 'ğŸ¤«' },
                            { word: '×©××™×›×”', translation: '×©××™×›×”', emoji: 'ğŸ›ï¸' },
                            { word: '×©×•×¨×©', translation: '×©×•×¨×©', emoji: 'ğŸŒ±' }
                        ],
                        middle: [
                            { word: '××©×—×§', translation: '××©×—×§', emoji: 'ğŸ®' },
                            { word: '× ×©×¨', translation: '× ×©×¨', emoji: 'ğŸ¦…' },
                            { word: '×‘×©×¨', translation: '×‘×©×¨', emoji: 'ğŸ¥©' },
                            { word: '×›×•×©×¨', translation: '×›×•×©×¨', emoji: 'ğŸ’ª' },
                            { word: '××™×©×”', translation: '××™×©×”', emoji: 'ğŸ‘©' },
                            { word: '×¤×©×•×˜', translation: '×¤×©×•×˜', emoji: 'âœ…' },
                            { word: '×—×©×•×‘', translation: '×—×©×•×‘', emoji: 'â—' },
                            { word: '××©×¤×—×”', translation: '××©×¤×—×”', emoji: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦' },
                            { word: '×§×©×”', translation: '×§×©×”', emoji: 'ğŸ’ª' },
                            { word: '× ×•×©×', translation: '× ×•×©×', emoji: 'ğŸ“š' }
                        ],
                        end: [
                            { word: '×œ×—×©', translation: '×œ×—×©', emoji: 'ğŸ¤«' },
                            { word: '×¨×©', translation: '×¨×©', emoji: 'ğŸ’¸' },
                            { word: '× ×©', translation: '× ×©', emoji: 'ğŸ' },
                            { word: '×™×©', translation: '×™×©', emoji: 'âœ…' },
                            { word: '×‘×©', translation: '×‘×©', emoji: 'ğŸ¯' },
                            { word: '×’×©', translation: '×’×©', emoji: 'ğŸŒ§ï¸' },
                            { word: '×“×©', translation: '×“×©', emoji: 'ğŸŒ¾' },
                            { word: '×›×©', translation: '×›×©', emoji: 'â°' },
                            { word: '××©', translation: '××©', emoji: 'ğŸ‘†' },
                            { word: '×¤×©', translation: '×¤×©', emoji: 'ğŸŸ' }
                        ]
                    },
                    '×ª': {
                        start: [
                            { word: '×ª×¤×•×—', translation: '×ª×¤×•×—', emoji: 'ğŸ' },
                            { word: '×ª×•×ª', translation: '×ª×•×ª', emoji: 'ğŸ“' },
                            { word: '×ª×™× ×•×§', translation: '×ª×™× ×•×§', emoji: 'ğŸ‘¶' },
                            { word: '×ª×™×§', translation: '×ª×™×§', emoji: 'ğŸ’' },
                            { word: '×ª×¨× ×’×•×œ', translation: '×ª×¨× ×’×•×œ', emoji: 'ğŸ“' },
                            { word: '×ª×—× ×”', translation: '×ª×—× ×”', emoji: 'ğŸš‰' },
                            { word: '×ª××•× ×”', translation: '×ª××•× ×”', emoji: 'ğŸ“¸' },
                            { word: '×ª×œ××™×“', translation: '×ª×œ××™×“', emoji: 'ğŸ‘¨â€ğŸ“' },
                            { word: '×ª×›×œ×ª', translation: '×ª×›×œ×ª', emoji: 'ğŸ”µ' },
                            { word: '×ª×•×•×™×ª', translation: '×ª×•×•×™×ª', emoji: 'ğŸ·ï¸' }
                        ],
                        middle: [
                            { word: '×‘×™×ª', translation: '×‘×™×ª', emoji: 'ğŸ ' },
                            { word: '×—×ª×•×œ', translation: '×—×ª×•×œ', emoji: 'ğŸ±' },
                            { word: '×¤×•×ª×—', translation: '×¤×•×ª×—', emoji: 'ğŸ”“' },
                            { word: '×©×•×ª×”', translation: '×©×•×ª×”', emoji: 'ğŸ¥¤' },
                            { word: '×›×•×ª×‘', translation: '×›×•×ª×‘', emoji: 'âœï¸' },
                            { word: '××ª×•×§', translation: '××ª×•×§', emoji: 'ğŸ¯' },
                            { word: '× ×•×ª×Ÿ', translation: '× ×•×ª×Ÿ', emoji: 'ğŸ¤²' },
                            { word: '×¨×•×ª×—', translation: '×¨×•×ª×—', emoji: 'ğŸ”¥' },
                            { word: '×¤×™×ª×”', translation: '×¤×™×ª×”', emoji: 'ğŸ¥™' },
                            { word: '×’×™×ª×¨', translation: '×’×™×ª×¨', emoji: 'ğŸ¸' }
                        ],
                        end: [
                            { word: '×‘×ª', translation: '×‘×ª', emoji: 'ğŸ‘§' },
                            { word: '××ª', translation: '××ª', emoji: 'ğŸ‘©' },
                            { word: '×“×œ×ª', translation: '×“×œ×ª', emoji: 'ğŸšª' },
                            { word: '×—×œ×ª', translation: '×—×œ×ª', emoji: 'ğŸ' },
                            { word: '×’×ª', translation: '×’×ª', emoji: 'ğŸ‡' },
                            { word: '×©×ª', translation: '×©×ª', emoji: 'ğŸ¼' },
                            { word: '×¤×ª', translation: '×¤×ª', emoji: 'ğŸ' },
                            { word: '×§×ª', translation: '×§×ª', emoji: 'ğŸ“' },
                            { word: '×¨×ª', translation: '×¨×ª', emoji: 'ğŸ”—' },
                            { word: '× ×ª', translation: '× ×ª', emoji: 'ğŸ’¤' }
                        ]
                    },
                    '×¨': {
                        start: [
                            { word: '×¨×›×‘', translation: '×¨×›×‘', emoji: 'ğŸš—' },
                            { word: '×¨×’×œ', translation: '×¨×’×œ', emoji: 'ğŸ¦µ' },
                            { word: '×¨××©', translation: '×¨××©', emoji: 'ğŸ—£ï¸' },
                            { word: '×¨×•×—', translation: '×¨×•×—', emoji: 'ğŸ’¨' },
                            { word: '×¨×§×“×Ÿ', translation: '×¨×§×“×Ÿ', emoji: 'ğŸ’ƒ' },
                            { word: '×¨×—×•×‘', translation: '×¨×—×•×‘', emoji: 'ğŸ›£ï¸' },
                            { word: '×¨××•×Ÿ', translation: '×¨××•×Ÿ', emoji: 'ğŸ' },
                            { word: '×¨×—×', translation: '×¨×—×', emoji: 'â¤ï¸' },
                            { word: '×¨×¤×', translation: '×¨×¤×', emoji: 'ğŸ¥' },
                            { word: '×¨×¢×', translation: '×¨×¢×', emoji: 'âš¡' }
                        ],
                        middle: [
                            { word: '××¨×§', translation: '××¨×§', emoji: 'ğŸ²' },
                            { word: '×¢×¨×‘', translation: '×¢×¨×‘', emoji: 'ğŸŒ†' },
                            { word: '×™×¨×—', translation: '×™×¨×—', emoji: 'ğŸŒ™' },
                            { word: '××¨×¥', translation: '××¨×¥', emoji: 'ğŸŒ' },
                            { word: '×’×¨×‘', translation: '×’×¨×‘', emoji: 'ğŸ§¦' },
                            { word: '×—×¨×‘', translation: '×—×¨×‘', emoji: 'âš”ï¸' },
                            { word: '×“×¨×š', translation: '×“×¨×š', emoji: 'ğŸ›£ï¸' },
                            { word: '×‘×¨×š', translation: '×‘×¨×š', emoji: 'ğŸ¦µ' },
                            { word: '×§×¨×Ÿ', translation: '×§×¨×Ÿ', emoji: 'ğŸ“¯' },
                            { word: '×©×¨×“', translation: '×©×¨×“', emoji: 'ğŸ ' }
                        ],
                        end: [
                            { word: '×“×‘×¨', translation: '×“×‘×¨', emoji: 'ğŸ’¬' },
                            { word: '×¡×¤×¨', translation: '×¡×¤×¨', emoji: 'ğŸ“š' },
                            { word: '×—××¨', translation: '×—××¨', emoji: 'ğŸ·' },
                            { word: '×–×›×¨', translation: '×–×›×¨', emoji: 'ğŸ‘¨' },
                            { word: '× ××¨', translation: '× ××¨', emoji: 'ğŸ…' },
                            { word: '×§×‘×¨', translation: '×§×‘×¨', emoji: 'âš°ï¸' },
                            { word: '×©×¢×¨', translation: '×©×¢×¨', emoji: 'ğŸšª' },
                            { word: '× ×”×¨', translation: '× ×”×¨', emoji: 'ğŸï¸' },
                            { word: '×¢×‘×¨', translation: '×¢×‘×¨', emoji: 'âª' },
                            { word: '×‘×§×¨', translation: '×‘×§×¨', emoji: 'ğŸŒ…' }
                        ]
                    },
                    '×§': {
                        start: [
                            { word: '×§×¤×”', translation: '×§×¤×”', emoji: 'â˜•' },
                            { word: '×§×¨×—', translation: '×§×¨×—', emoji: 'ğŸ§Š' },
                            { word: '×§×œ×£', translation: '×§×œ×£', emoji: 'ğŸ“œ' },
                            { word: '×§×™×¥', translation: '×§×™×¥', emoji: 'â˜€ï¸' },
                            { word: '×§×•×œ', translation: '×§×•×œ', emoji: 'ğŸ”Š' },
                            { word: '×§×©×ª', translation: '×§×©×ª', emoji: 'ğŸŒˆ' },
                            { word: '×§× ×”', translation: '×§× ×”', emoji: 'ğŸ›’' },
                            { word: '×§×˜×Ÿ', translation: '×§×˜×Ÿ', emoji: 'ğŸ”¸' },
                            { word: '×§×•×“×©', translation: '×§×•×“×©', emoji: 'âœ¨' },
                            { word: '×§×™×¨', translation: '×§×™×¨', emoji: 'ğŸ§±' }
                        ],
                        middle: [
                            { word: '××§×•×', translation: '××§×•×', emoji: 'ğŸ“' },
                            { word: '×—×§×¨', translation: '×—×§×¨', emoji: 'ğŸ”' },
                            { word: '×©×§×˜', translation: '×©×§×˜', emoji: 'ğŸ¤«' },
                            { word: '×ª×§×Ÿ', translation: '×ª×§×Ÿ', emoji: 'ğŸ”§' },
                            { word: '×–×§×Ÿ', translation: '×–×§×Ÿ', emoji: 'ğŸ§”' },
                            { word: '× ×§×”', translation: '× ×§×”', emoji: 'ğŸ§½' },
                            { word: '×¨×§×“', translation: '×¨×§×“', emoji: 'ğŸ’ƒ' },
                            { word: '×¤×§×“', translation: '×¤×§×“', emoji: 'ğŸ‘®' },
                            { word: '×‘×§×¨', translation: '×‘×§×¨', emoji: 'ğŸ„' },
                            { word: '×©×§×¢', translation: '×©×§×¢', emoji: 'ğŸ”Œ' }
                        ],
                        end: [
                            { word: '×—×•×§', translation: '×—×•×§', emoji: 'âš–ï¸' },
                            { word: '×©×•×§', translation: '×©×•×§', emoji: 'ğŸ›’' },
                            { word: '×¨×•×§', translation: '×¨×•×§', emoji: 'ğŸ’§' },
                            { word: '×¦×•×§', translation: '×¦×•×§', emoji: 'ğŸ”ï¸' },
                            { word: '×—×™×§', translation: '×—×™×§', emoji: 'ğŸ¤—' },
                            { word: '×©×§', translation: '×©×§', emoji: 'ğŸ‘œ' },
                            { word: '×“×§', translation: '×“×§', emoji: 'ğŸ“' },
                            { word: '×—×§', translation: '×—×§', emoji: 'ğŸ“œ' },
                            { word: '×œ×§', translation: '×œ×§', emoji: 'ğŸ’§' },
                            { word: '×ª×§', translation: '×ª×§', emoji: 'ğŸ“' }
                        ]
                    },
                    '×’': {
                        start: [
                            { word: '×’××œ', translation: '×’××œ', emoji: 'ğŸª' },
                            { word: '×’×‘×¨', translation: '×’×‘×¨', emoji: 'ğŸ‘¨' },
                            { word: '×’×Ÿ', translation: '×’×Ÿ', emoji: 'ğŸŒ³' },
                            { word: '×’×“×•×œ', translation: '×’×“×•×œ', emoji: 'ğŸ“' },
                            { word: '×’×–×¨', translation: '×’×–×¨', emoji: 'ğŸ¥•' },
                            { word: '×’×œ×’×œ', translation: '×’×œ×’×œ', emoji: 'ğŸ¡' },
                            { word: '×’×‘×™× ×”', translation: '×’×‘×™× ×”', emoji: 'ğŸ§€' },
                            { word: '×’×©×', translation: '×’×©×', emoji: 'ğŸŒ§ï¸' },
                            { word: '×’×¨×‘', translation: '×’×¨×‘', emoji: 'ğŸ§¦' },
                            { word: '×’×™×˜×¨×”', translation: '×’×™×˜×¨×”', emoji: 'ğŸ¸' }
                        ],
                        middle: [
                            { word: '××’×Ÿ', translation: '××’×Ÿ', emoji: 'ğŸ›¡ï¸' },
                            { word: '×‘×’×“', translation: '×‘×’×“', emoji: 'ğŸ‘•' },
                            { word: '×“×’×œ', translation: '×“×’×œ', emoji: 'ğŸ' },
                            { word: '×”×’×”', translation: '×”×’×”', emoji: 'ğŸš—' },
                            { word: '×•×’×', translation: '×•×’×', emoji: 'â•' },
                            { word: '×–×’×•×’', translation: '×–×’×•×’', emoji: 'ğŸªŸ' },
                            { word: '×—×’×•×¨', translation: '×—×’×•×¨', emoji: 'ğŸ‘–' },
                            { word: '×˜×’×™×Ÿ', translation: '×˜×’×™×Ÿ', emoji: 'ğŸ²' },
                            { word: '×™×’×™×¢', translation: '×™×’×™×¢', emoji: 'ğŸ’ª' },
                            { word: '×›×’×•×Ÿ', translation: '×›×’×•×Ÿ', emoji: 'ğŸ“‹' }
                        ],
                        end: [
                            { word: '×“×’', translation: '×“×’', emoji: 'ğŸŸ' },
                            { word: '×—×’', translation: '×—×’', emoji: 'ğŸŠ' },
                            { word: '×‘×’', translation: '×‘×’', emoji: 'ğŸ‘•' },
                            { word: '×”×’', translation: '×”×’', emoji: 'ğŸ‰' },
                            { word: '×•×’', translation: '×•×’', emoji: 'ğŸ”—' },
                            { word: '×–×’', translation: '×–×’', emoji: 'âš¡' },
                            { word: '×˜×’', translation: '×˜×’', emoji: 'ğŸ·ï¸' },
                            { word: '×™×’', translation: '×™×’', emoji: 'ğŸ’ª' },
                            { word: '×›×’', translation: '×›×’', emoji: 'âš–ï¸' },
                            { word: '×œ×’', translation: '×œ×’', emoji: 'ğŸ¦µ' }
                        ]
                    },
                    '×“': {
                        start: [
                            { word: '×“×‘', translation: '×“×‘', emoji: 'ğŸ»' },
                            { word: '×“×œ×ª', translation: '×“×œ×ª', emoji: 'ğŸšª' },
                            { word: '×“×’', translation: '×“×’', emoji: 'ğŸŸ' },
                            { word: '×“×', translation: '×“×', emoji: 'ğŸ©¸' },
                            { word: '×“×¨×š', translation: '×“×¨×š', emoji: 'ğŸ›£ï¸' },
                            { word: '×“×‘×©', translation: '×“×‘×©', emoji: 'ğŸ¯' },
                            { word: '×“×§×œ', translation: '×“×§×œ', emoji: 'ğŸŒ´' },
                            { word: '×“×•××¨', translation: '×“×•××¨', emoji: 'ğŸ“®' },
                            { word: '×“×™×¨×”', translation: '×“×™×¨×”', emoji: 'ğŸ ' },
                            { word: '×“×—×£', translation: '×“×—×£', emoji: 'â¡ï¸' }
                        ],
                        middle: [
                            { word: '××“×¢', translation: '××“×¢', emoji: 'ğŸ”¬' },
                            { word: '×¡×“×¨', translation: '×¡×“×¨', emoji: 'ğŸ“‹' },
                            { word: '× ×“×¨', translation: '× ×“×¨', emoji: 'ğŸ¤' },
                            { word: '×—×“×©', translation: '×—×“×©', emoji: 'ğŸ†•' },
                            { word: '×§×“×•×©', translation: '×§×“×•×©', emoji: 'âœ¨' },
                            { word: '×¨×“×™×•', translation: '×¨×“×™×•', emoji: 'ğŸ“»' },
                            { word: '×’×“×•×œ', translation: '×’×“×•×œ', emoji: 'ğŸ“' },
                            { word: '××“×™×‘', translation: '××“×™×‘', emoji: 'ğŸ˜Š' },
                            { word: '×‘×“×™×§×”', translation: '×‘×“×™×§×”', emoji: 'ğŸ”' },
                            { word: '×•×“××™', translation: '×•×“××™', emoji: 'âœ…' }
                        ],
                        end: [
                            { word: '×™×“', translation: '×™×“', emoji: 'âœ‹' },
                            { word: '×œ×“', translation: '×œ×“', emoji: 'ğŸ‘¶' },
                            { word: '×¡×•×“', translation: '×¡×•×“', emoji: 'ğŸ¤«' },
                            { word: '××•×“', translation: '××•×“', emoji: 'ğŸ“Š' },
                            { word: '×§×•×“', translation: '×§×•×“', emoji: 'ğŸ’»' },
                            { word: '×‘×“', translation: '×‘×“', emoji: 'ğŸ§µ' },
                            { word: '×’×“', translation: '×’×“', emoji: 'ğŸŸ' },
                            { word: '×”×“', translation: '×”×“', emoji: 'ğŸ“¢' },
                            { word: '×•×“', translation: 'ÙˆØ¯', emoji: 'ğŸ£' },
                            { word: '×–×“', translation: '×–×“', emoji: 'âš¡' }
                        ]
                    },
                    '×”': {
                        start: [
                            { word: '×”×¨', translation: '×”×¨', emoji: 'ğŸ”ï¸' },
                            { word: '×”×™×“', translation: '×”×™×“', emoji: 'âœ‹' },
                            { word: '×”×‘×™×ª', translation: '×”×‘×™×ª', emoji: 'ğŸ ' },
                            { word: '×”××£', translation: '×”××£', emoji: 'ğŸ‘ƒ' },
                            { word: '×”×œ×‘', translation: '×”×œ×‘', emoji: 'â¤ï¸' },
                            { word: '×”×’×Ÿ', translation: '×”×’×Ÿ', emoji: 'ğŸŒ³' },
                            { word: '×”×›×œ×‘', translation: '×”×›×œ×‘', emoji: 'ğŸ•' },
                            { word: '×”×—×ª×•×œ', translation: '×”×—×ª×•×œ', emoji: 'ğŸ±' },
                            { word: '×”×™×¨×—', translation: '×”×™×¨×—', emoji: 'ğŸŒ™' },
                            { word: '×”×©××©', translation: '×”×©××©', emoji: 'â˜€ï¸' }
                        ],
                        middle: [
                            { word: '×‘×”×™×¨', translation: '×‘×”×™×¨', emoji: 'ğŸŒŸ' },
                            { word: '××”×¨', translation: '××”×¨', emoji: 'ğŸ’¨' },
                            { word: '××•×”×‘', translation: '××•×”×‘', emoji: 'ğŸ’•' },
                            { word: '×–×•×”×¨', translation: '×–×•×”×¨', emoji: 'âœ¨' },
                            { word: '××”×œ×š', translation: '××”×œ×š', emoji: 'ğŸš¶' },
                            { word: '×ª×”×œ×™×š', translation: '×ª×”×œ×™×š', emoji: 'âš™ï¸' },
                            { word: '×©×”×•×ª', translation: '×©×”×•×ª', emoji: 'â³' },
                            { word: '× ×”×¨', translation: '× ×”×¨', emoji: 'ğŸï¸' },
                            { word: '×¦×”×•×‘', translation: '×¦×”×•×‘', emoji: 'ğŸŸ¡' },
                            { word: '×§×”×œ', translation: '×§×”×œ', emoji: 'ğŸ‘¥' }
                        ],
                        end: [
                            { word: '××”', translation: '××”', emoji: 'â“' },
                            { word: '×¤×”', translation: '×¤×”', emoji: 'ğŸ‘„' },
                            { word: '××™×”', translation: '××™×”', emoji: 'â“' },
                            { word: '×’×”', translation: '×’×”', emoji: 'ğŸµ' },
                            { word: '×‘×”', translation: '×‘×”', emoji: 'ğŸ‘†' },
                            { word: '×œ×”', translation: '×œ×”', emoji: 'ğŸ‘©' },
                            { word: '×–×”', translation: '×–×”', emoji: 'ğŸ‘†' },
                            { word: '×©×”', translation: '×©×”', emoji: 'ğŸ‘' },
                            { word: '×—×”', translation: '×—×”', emoji: 'ğŸ˜„' },
                            { word: '×˜×”', translation: '×˜×”', emoji: 'ğŸ¯' }
                        ]
                    },
                    '×•': {
                        start: [
                            { word: '×•×¨×“', translation: '×•×¨×“', emoji: 'ğŸŒ¹' },
                            { word: '×•×“××™', translation: '×•×“××™', emoji: 'âœ…' },
                            { word: '×•×™×œ×•×Ÿ', translation: '×•×™×œ×•×Ÿ', emoji: 'ğŸªŸ' },
                            { word: '×•×•×¤×œ', translation: '×•×•×¤×œ', emoji: 'ğŸ§‡' },
                            { word: '×•×™×˜××™×Ÿ', translation: '×•×™×˜××™×Ÿ', emoji: 'ğŸ’Š' },
                            { word: '×•×™×“××•', translation: '×•×™×“××•', emoji: 'ğŸ“¹' },
                            { word: '×•×™×–×”', translation: '×•×™×–×”', emoji: 'ğŸ“‹' },
                            { word: '×•×™×¨×•×¡', translation: '×•×™×¨×•×¡', emoji: 'ğŸ¦ ' },
                            { word: '×•×•×§×”', translation: '×•×•×§×”', emoji: 'ğŸ¸' },
                            { word: '×•×œ×•×•×˜', translation: '×•×œ×•×•×˜', emoji: 'âš¡' }
                        ],
                        middle: [
                            { word: '××•×•×™×¨', translation: '××•×•×™×¨', emoji: 'ğŸ’¨' },
                            { word: '××•×¢×“', translation: '××•×¢×“', emoji: 'ğŸ“…' },
                            { word: '×“×•×•×§×', translation: '×“×•×•×§×', emoji: 'ğŸ’¯' },
                            { word: '×‘×•×§×¨', translation: '×‘×•×§×¨', emoji: 'ğŸŒ…' },
                            { word: '×¦×•×•××¨', translation: '×¦×•×•××¨', emoji: 'ğŸ¦’' },
                            { word: '××•×•×ª', translation: '××•×•×ª', emoji: 'ğŸ’€' },
                            { word: '×¨××•×•×”', translation: '×¨××•×•×”', emoji: 'ğŸ‘€' },
                            { word: '×ª×•×•×™×ª', translation: '×ª×•×•×™×ª', emoji: 'ğŸ·ï¸' },
                            { word: '×¢×•×’×”', translation: '×¢×•×’×”', emoji: 'ğŸ‚' },
                            { word: '××•×–×¨', translation: '××•×–×¨', emoji: 'ğŸ¤”' }
                        ],
                        end: [
                            { word: '×¤×¨×•', translation: '×¤×¨×•', emoji: 'ğŸ¥©' },
                            { word: '×©×œ×•', translation: '×©×œ×•', emoji: 'ğŸ‘¨' },
                            { word: '×¢×œ×™×•', translation: '×¢×œ×™×•', emoji: 'â¬†ï¸' },
                            { word: '××œ×™×•', translation: '××œ×™×•', emoji: 'â¡ï¸' },
                            { word: '×‘×•', translation: '×‘×•', emoji: 'ğŸ‘†' },
                            { word: '×œ×•', translation: '×œ×•', emoji: 'ğŸ‘¨' },
                            { word: '×¤×•', translation: '×¤×•', emoji: 'ğŸ’¨' },
                            { word: '×‘×§×¨×•', translation: '×‘×§×¨×•', emoji: 'ğŸ„' },
                            { word: '×—×œ×§×•', translation: '×—×œ×§×•', emoji: 'ğŸ°' },
                            { word: '×“×¨×›×•', translation: '×“×¨×›×•', emoji: 'ğŸ›£ï¸' }
                        ]
                    },
                    '×–': {
                        start: [
                            { word: '×–×‘×•×‘', translation: '×–×‘×•×‘', emoji: 'ğŸª°' },
                            { word: '×–×§×Ÿ', translation: '×–×§×Ÿ', emoji: 'ğŸ§”' },
                            { word: '×–×¨×•×¢', translation: '×–×¨×•×¢', emoji: 'ğŸ’ª' },
                            { word: '×–×”×‘', translation: '×–×”×‘', emoji: 'ğŸ¥‡' },
                            { word: '×–×™×ª', translation: '×–×™×ª', emoji: 'ğŸ«’' },
                            { word: '×–××Ÿ', translation: '×–××Ÿ', emoji: 'â°' },
                            { word: '×–×›×•×›×™×ª', translation: '×–×›×•×›×™×ª', emoji: 'ğŸªŸ' },
                            { word: '×–×•×’', translation: '×–×•×’', emoji: 'ğŸ‘«' },
                            { word: '×–× ×‘', translation: '×–× ×‘', emoji: 'ğŸ•' },
                            { word: '×–×¨×§', translation: '×–×¨×§', emoji: 'âš¾' }
                        ],
                        middle: [
                            { word: '×¢×–×¨×”', translation: '×¢×–×¨×”', emoji: 'ğŸ¤' },
                            { word: '×‘×–××Ÿ', translation: '×‘×–××Ÿ', emoji: 'â°' },
                            { word: '××•×–×Ÿ', translation: '××•×–×Ÿ', emoji: 'ğŸ‘‚' },
                            { word: '××–×œ', translation: '××–×œ', emoji: 'ğŸ€' },
                            { word: '×—×–×§', translation: '×—×–×§', emoji: 'ğŸ’ª' },
                            { word: '×¨×–×”', translation: '×¨×–×”', emoji: 'ğŸ¥’' },
                            { word: '×’×–×¨', translation: '×’×–×¨', emoji: 'ğŸ¥•' },
                            { word: '×¢×–×”', translation: '×¢×–×”', emoji: 'ğŸ’ª' },
                            { word: '×ª×–×”', translation: '×ª×–×”', emoji: 'ğŸ“œ' },
                            { word: '××–×•×Ÿ', translation: '××–×•×Ÿ', emoji: 'ğŸ½ï¸' }
                        ],
                        end: [
                            { word: '×¢×–', translation: '×¢×–', emoji: 'ğŸ' },
                            { word: '×‘×–', translation: '×‘×–', emoji: 'ğŸ¦…' },
                            { word: '×¨×–', translation: '×¨×–', emoji: 'ğŸ¤«' },
                            { word: '×’×–', translation: '×’×–', emoji: 'â›½' },
                            { word: '××–', translation: '××–', emoji: 'â°' },
                            { word: '×œ×–', translation: '×œ×–', emoji: 'ğŸ˜´' },
                            { word: '×—×–', translation: '×—×–', emoji: 'ğŸ‘ï¸' },
                            { word: '×˜×–', translation: '×˜×–', emoji: 'ğŸ¯' },
                            { word: '×§×–', translation: '×§×–', emoji: 'ğŸƒ' },
                            { word: '×©×–', translation: '×©×–', emoji: 'âœ¨' }
                        ]
                    },
                    '×œ': {
                        start: [
                            { word: '×œ×‘', translation: '×œ×‘', emoji: 'â¤ï¸' },
                            { word: '×œ×—×', translation: '×œ×—×', emoji: 'ğŸ' },
                            { word: '×œ×™×œ×”', translation: '×œ×™×œ×”', emoji: 'ğŸŒ™' },
                            { word: '×œ×™××•×Ÿ', translation: '×œ×™××•×Ÿ', emoji: 'ğŸ‹' },
                            { word: '×œ×™×¦×Ÿ', translation: '×œ×™×¦×Ÿ', emoji: 'ğŸ¤¡' },
                            { word: '×œ×•×—', translation: '×œ×•×—', emoji: 'ğŸ“‹' },
                            { word: '×œ×©×•×Ÿ', translation: '×œ×©×•×Ÿ', emoji: 'ğŸ‘…' },
                            { word: '×œ×‘×Ÿ', translation: '×œ×‘×Ÿ', emoji: 'âšª' },
                            { word: '×œ×•×–', translation: '×œ×•×–', emoji: 'ğŸŒ°' },
                            { word: '×œ×§×—', translation: '×œ×§×—', emoji: 'ğŸ“š' }
                        ],
                        middle: [
                            { word: '××œ×—', translation: '××œ×—', emoji: 'ğŸ§‚' },
                            { word: '×‘×œ×¢', translation: '×‘×œ×¢', emoji: 'ğŸ˜®' },
                            { word: '×’×œ×”', translation: '×’×œ×”', emoji: 'ğŸ”' },
                            { word: '×“×œ×ª', translation: '×“×œ×ª', emoji: 'ğŸšª' },
                            { word: '×”×œ×š', translation: '×”×œ×š', emoji: 'ğŸš¶' },
                            { word: '×•×œ×“', translation: '×•×œ×“', emoji: 'ğŸ‘¶' },
                            { word: '×–×œ×£', translation: '×–×œ×£', emoji: 'ğŸ’§' },
                            { word: '×—×œ×‘', translation: '×—×œ×‘', emoji: 'ğŸ¥›' },
                            { word: '×˜×œ×”', translation: '×˜×œ×”', emoji: 'ğŸ‘' },
                            { word: '×™×œ×“', translation: '×™×œ×“', emoji: 'ğŸ‘¦' }
                        ],
                        end: [
                            { word: '××œ', translation: '××œ', emoji: 'â¬†ï¸' },
                            { word: '×‘×œ', translation: '×‘×œ', emoji: 'ğŸš«' },
                            { word: '×’×œ', translation: '×’×œ', emoji: 'ğŸŒŠ' },
                            { word: '×“×œ', translation: '×“×œ', emoji: 'ğŸšª' },
                            { word: '×”×œ', translation: '×”×œ', emoji: 'âœ¨' },
                            { word: '×•×œ', translation: '×•×œ', emoji: 'ğŸ”—' },
                            { word: '×–×œ', translation: '×–×œ', emoji: 'ğŸ’§' },
                            { word: '×—×œ', translation: '×—×œ', emoji: 'ğŸ–ï¸' },
                            { word: '×˜×œ', translation: '×˜×œ', emoji: 'ğŸ’§' },
                            { word: '×™×œ', translation: '×™×œ', emoji: 'ğŸ‘¶' }
                        ]
                    },
                    '×': {
                        start: [
                            { word: '××™×', translation: '××™×', emoji: 'ğŸ’§' },
                            { word: '××›×•× ×™×ª', translation: '××›×•× ×™×ª', emoji: 'ğŸš—' },
                            { word: '××˜×•×¡', translation: '××˜×•×¡', emoji: 'âœˆï¸' },
                            { word: '××—×©×‘', translation: '××—×©×‘', emoji: 'ğŸ’»' },
                            { word: '××§×•×', translation: '××§×•×', emoji: 'ğŸ“' },
                            { word: '××©×¤×—×”', translation: '××©×¤×—×”', emoji: 'ğŸ‘ª' },
                            { word: '××œ×—', translation: '××œ×—', emoji: 'ğŸ§‚' },
                            { word: '××‘×˜', translation: '××‘×˜', emoji: 'ğŸ‘€' },
                            { word: '××¦×‘', translation: '××¦×‘', emoji: 'ğŸ“Š' },
                            { word: '××‘×—×Ÿ', translation: '××‘×—×Ÿ', emoji: 'ğŸ“' }
                        ],
                        middle: [
                            { word: '×–××Ÿ', translation: '×–××Ÿ', emoji: 'â°' },
                            { word: '×©××—', translation: '×©××—', emoji: 'ğŸ˜Š' },
                            { word: '×“××™', translation: '×“××™', emoji: 'ğŸ’°' },
                            { word: '×‘××”', translation: '×‘××”', emoji: 'ğŸ­' },
                            { word: '×œ××“', translation: '×œ××“', emoji: 'ğŸ“š' },
                            { word: '×”××•×Ÿ', translation: '×”××•×Ÿ', emoji: 'ğŸ‘¥' },
                            { word: '×§××—', translation: '×§××—', emoji: 'ğŸŒ¾' },
                            { word: '×××œ×', translation: '×××œ×', emoji: 'ğŸ”„' },
                            { word: '×ª××™×“', translation: '×ª××™×“', emoji: 'ğŸ”„' },
                            { word: '×××', translation: '×××', emoji: 'ğŸ‘©' }
                        ],
                        end: [
                            { word: '××', translation: '××', emoji: 'ğŸ‘©' },
                            { word: '×‘×', translation: '×‘×', emoji: 'ğŸ“' },
                            { word: '×’×', translation: '×’×', emoji: 'â•' },
                            { word: '×“×', translation: '×“×', emoji: 'ğŸ©¸' },
                            { word: '×”×', translation: '×”×', emoji: 'ğŸ‘¥' },
                            { word: '×•×', translation: '×•×', emoji: 'ğŸŒŠ' },
                            { word: '×–×', translation: '×–×', emoji: 'â°' },
                            { word: '×—×', translation: '×—×', emoji: 'ğŸ”¥' },
                            { word: '×˜×', translation: '×˜×', emoji: 'ğŸ‘…' },
                            { word: '×™×', translation: '×™×', emoji: 'ğŸŒŠ' }
                        ]
                    },
                    '× ': {
                        start: [
                            { word: '× ×¨', translation: '× ×¨', emoji: 'ğŸ•¯ï¸' },
                            { word: '× ×—×©', translation: '× ×—×©', emoji: 'ğŸ' },
                            { word: '× ×”×¨', translation: '× ×”×¨', emoji: 'ğŸï¸' },
                            { word: '× ×•×£', translation: '× ×•×£', emoji: 'ğŸï¸' },
                            { word: '× ×’×“', translation: '× ×’×“', emoji: 'ğŸš«' },
                            { word: '× ×“×¨', translation: '× ×“×¨', emoji: 'ğŸ¤' },
                            { word: '× ×§×”', translation: '× ×§×”', emoji: 'ğŸ§½' },
                            { word: '× ×¤×œ', translation: '× ×¤×œ', emoji: 'â¬‡ï¸' },
                            { word: '× ×¡×¢', translation: '× ×¡×¢', emoji: 'ğŸš—' },
                            { word: '× ×ª×Ÿ', translation: '× ×ª×Ÿ', emoji: 'ğŸ¤²' }
                        ],
                        middle: [
                            { word: '×× ×—× ×•', translation: '×× ×—× ×•', emoji: 'ğŸ‘¥' },
                            { word: '×‘× ×”', translation: '×‘× ×”', emoji: 'ğŸ—ï¸' },
                            { word: '×’× ×‘', translation: '×’× ×‘', emoji: 'ğŸ¦¹' },
                            { word: '×“× ×”', translation: '×“× ×”', emoji: 'ğŸ‘©' },
                            { word: '×”× ×”', translation: '×”× ×”', emoji: 'ğŸ‘†' },
                            { word: '×•× ×•×¡', translation: '×•× ×•×¡', emoji: 'ğŸª' },
                            { word: '×–× ×‘', translation: '×–× ×‘', emoji: 'ğŸ•' },
                            { word: '×—× ×•×ª', translation: '×—× ×•×ª', emoji: 'ğŸª' },
                            { word: '×˜× ×§', translation: '×˜× ×§', emoji: 'ğŸš—' },
                            { word: '×™× ×”', translation: '×™× ×”', emoji: 'ğŸ•Šï¸' }
                        ],
                        end: [
                            { word: '××Ÿ', translation: '××Ÿ', emoji: 'â“' },
                            { word: '×‘×Ÿ', translation: '×‘×Ÿ', emoji: 'ğŸ‘¦' },
                            { word: '×’×Ÿ', translation: '×’×Ÿ', emoji: 'ğŸŒ³' },
                            { word: '×“×Ÿ', translation: '×“×Ÿ', emoji: 'ğŸ‘¨' },
                            { word: '×”×Ÿ', translation: '×”×Ÿ', emoji: 'ğŸ‘©' },
                            { word: '×•×Ÿ', translation: '×•×Ÿ', emoji: 'ğŸ”—' },
                            { word: '×–×Ÿ', translation: '×–×Ÿ', emoji: 'ğŸŒ±' },
                            { word: '×—×Ÿ', translation: '×—×Ÿ', emoji: 'ğŸ˜Š' },
                            { word: '×˜×Ÿ', translation: '×˜×Ÿ', emoji: 'âš–ï¸' },
                            { word: '×™×Ÿ', translation: '×™×Ÿ', emoji: 'ğŸ·' }
                        ]
                    },
                    '×¡': {
                        start: [
                            { word: '×¡×•×¡', translation: '×¡×•×¡', emoji: 'ğŸ´' },
                            { word: '×¡×¤×¨', translation: '×¡×¤×¨', emoji: 'ğŸ“š' },
                            { word: '×¡×œ×˜', translation: '×¡×œ×˜', emoji: 'ğŸ¥—' },
                            { word: '×¡×›×™×Ÿ', translation: '×¡×›×™×Ÿ', emoji: 'ğŸ”ª' },
                            { word: '×¡×‘×', translation: '×¡×‘×', emoji: 'ğŸ‘´' },
                            { word: '×¡×“×¨', translation: '×¡×“×¨', emoji: 'ğŸ“‹' },
                            { word: '×¡×™×¨', translation: '×¡×™×¨', emoji: 'ğŸ²' },
                            { word: '×¡×•×›×¨', translation: '×¡×•×›×¨', emoji: 'ğŸ¯' },
                            { word: '×¡×¤×”', translation: '×¡×¤×”', emoji: 'ğŸ›‹ï¸' },
                            { word: '×¡×¨×˜', translation: '×¡×¨×˜', emoji: 'ğŸ¬' }
                        ],
                        middle: [
                            { word: '×‘×¡×™×¡', translation: '×‘×¡×™×¡', emoji: 'ğŸ—ï¸' },
                            { word: '×’×©×¨', translation: '×’×©×¨', emoji: 'ğŸŒ‰' },
                            { word: '×“×¨×©', translation: '×“×¨×©', emoji: 'ğŸ“¢' },
                            { word: '×”×©×§', translation: '×”×©×§', emoji: 'ğŸ‘œ' },
                            { word: '×•×©×¨', translation: '×•×©×¨', emoji: 'ğŸµ' },
                            { word: '×–××¨', translation: '×–××¨', emoji: 'ğŸ¤' },
                            { word: '×—×¡×¨', translation: '×—×¡×¨', emoji: 'âŒ' },
                            { word: '×˜×¢×', translation: '×˜×¢×', emoji: 'ğŸ‘…' },
                            { word: '×™×¡×•×“', translation: '×™×¡×•×“', emoji: 'ğŸ§ª' },
                            { word: '×›×¡×£', translation: '×›×¡×£', emoji: 'ğŸ’°' }
                        ],
                        end: [
                            { word: '××¡', translation: '××¡', emoji: 'ğŸ¯' },
                            { word: '×‘×¡', translation: '×‘×¡', emoji: 'ğŸ”Š' },
                            { word: '×’×¡', translation: '×’×¡', emoji: 'ğŸ’ª' },
                            { word: '×“×¡', translation: '×“×¡', emoji: 'ğŸŒ¾' },
                            { word: '×”×¡', translation: '×”×¡', emoji: 'ğŸ¤«' },
                            { word: '×•×¡', translation: '×•×¡', emoji: 'ğŸ”—' },
                            { word: '×–×¡', translation: '×–×¡', emoji: 'âš¡' },
                            { word: '×—×¡', translation: '×—×¡', emoji: 'ğŸ›¡ï¸' },
                            { word: '×˜×¡', translation: '×˜×¡', emoji: 'âœˆï¸' },
                            { word: '×™×¡', translation: '×™×¡', emoji: 'âœ…' }
                        ]
                    },
                    '×¢': {
                        start: [
                            { word: '×¢×¥', translation: '×¢×¥', emoji: 'ğŸŒ³' },
                            { word: '×¢×™×Ÿ', translation: '×¢×™×Ÿ', emoji: 'ğŸ‘ï¸' },
                            { word: '×¢×•×’×”', translation: '×¢×•×’×”', emoji: 'ğŸ‚' },
                            { word: '×¢×•×£', translation: '×¢×•×£', emoji: 'ğŸ”' },
                            { word: '×¢××•×“', translation: '×¢××•×“', emoji: 'ğŸ›ï¸' },
                            { word: '×¢×©×Ÿ', translation: '×¢×©×Ÿ', emoji: 'ğŸ’¨' },
                            { word: '×¢×•×œ×', translation: '×¢×•×œ×', emoji: 'ğŸŒ' },
                            { word: '×¢×‘×“', translation: '×¢×‘×“', emoji: 'ğŸ‘·' },
                            { word: '×¢×’×œ', translation: '×¢×’×œ', emoji: 'ğŸ„' },
                            { word: '×¢×“×”', translation: '×¢×“×”', emoji: 'ğŸ‘¥' }
                        ],
                        middle: [
                            { word: '×‘×¢×“', translation: '×‘×¢×“', emoji: 'ğŸ‘' },
                            { word: '×’×¢×©', translation: '×’×¢×©', emoji: 'ğŸŒ‹' },
                            { word: '×“×¢×ª', translation: '×“×¢×ª', emoji: 'ğŸ§ ' },
                            { word: '×”×¢×œ×™×•×Ÿ', translation: '×”×¢×œ×™×•×Ÿ', emoji: 'â¬†ï¸' },
                            { word: '×•×¢×“', translation: '×•×¢×“', emoji: 'ğŸ“‹' },
                            { word: '×–×¢×', translation: '×–×¢×', emoji: 'ğŸ˜ ' },
                            { word: '×—×¢×¡', translation: '×—×¢×¡', emoji: 'ğŸ˜¡' },
                            { word: '×˜×¢×', translation: '×˜×¢×', emoji: 'ğŸ‘…' },
                            { word: '×™×¢×“', translation: '×™×¢×“', emoji: 'ğŸ¯' },
                            { word: '×›×¢×¡', translation: '×›×¢×¡', emoji: 'ğŸ˜ ' }
                        ],
                        end: [
                            { word: '××¢', translation: '××¢', emoji: 'ğŸ˜®' },
                            { word: '×‘×¢', translation: '×‘×¢', emoji: 'ğŸ‘' },
                            { word: '×’×¢', translation: '×’×¢', emoji: 'ğŸ‘‰' },
                            { word: '×“×¢', translation: '×“×¢', emoji: 'ğŸ§ ' },
                            { word: '×”×¢', translation: '×”×¢', emoji: 'ğŸ˜¯' },
                            { word: '×•×¢', translation: '×•×¢', emoji: 'ğŸ”—' },
                            { word: '×–×¢', translation: '×–×¢', emoji: 'ğŸ’¨' },
                            { word: '×—×¢', translation: '×—×¢', emoji: 'ğŸ˜®' },
                            { word: '×˜×¢', translation: '×˜×¢', emoji: 'ğŸ‘…' },
                            { word: '×™×¢', translation: '×™×¢', emoji: 'âœ…' }
                        ]
                    },
                    '×¤': {
                        start: [
                            { word: '×¤×¨×—', translation: '×¤×¨×—', emoji: 'ğŸŒ¸' },
                            { word: '×¤×™×œ', translation: '×¤×™×œ', emoji: 'ğŸ˜' },
                            { word: '×¤×¨×™', translation: '×¤×¨×™', emoji: 'ğŸ' },
                            { word: '×¤× ×™×', translation: '×¤× ×™×', emoji: 'ğŸ˜Š' },
                            { word: '×¤×¨×¤×¨', translation: '×¤×¨×¤×¨', emoji: 'ğŸ¦‹' },
                            { word: '×¤×ª×—', translation: '×¤×ª×—', emoji: 'ğŸšª' },
                            { word: '×¤×¨×¡', translation: '×¤×¨×¡', emoji: 'ğŸ†' },
                            { word: '×¤×¢××•×Ÿ', translation: '×¤×¢××•×Ÿ', emoji: 'ğŸ””' },
                            { word: '×¤×™× ×”', translation: '×¤×™× ×”', emoji: 'ğŸ“' },
                            { word: '×¤×œ×', translation: '×¤×œ×', emoji: 'ğŸŒŸ' }
                        ],
                        middle: [
                            { word: '××•×¤×Ÿ', translation: '××•×¤×Ÿ', emoji: 'ğŸš²' },
                            { word: '×‘×¤×•×š', translation: '×‘×¤×•×š', emoji: 'ğŸ”„' },
                            { word: '×’×¤×Ÿ', translation: '×’×¤×Ÿ', emoji: 'ğŸ‡' },
                            { word: '×“×¤×§', translation: '×“×¤×§', emoji: 'ğŸšª' },
                            { word: '×”×¤×š', translation: '×”×¤×š', emoji: 'ğŸ”„' },
                            { word: '×•×¤×œ', translation: '×•×¤×œ', emoji: 'ğŸ§‡' },
                            { word: '×–×¤×ª', translation: '×–×¤×ª', emoji: 'ğŸ›£ï¸' },
                            { word: '×—×¤×©', translation: '×—×¤×©', emoji: 'ğŸ”' },
                            { word: '×˜×¤×—', translation: '×˜×¤×—', emoji: 'ğŸ‘' },
                            { word: '×™×¤×”', translation: '×™×¤×”', emoji: 'ğŸ˜' }
                        ],
                        end: [
                            { word: '××£', translation: '××£', emoji: 'ğŸ‘ƒ' },
                            { word: '×‘×£', translation: '×‘×£', emoji: 'ğŸ”Š' },
                            { word: '×’×£', translation: '×’×£', emoji: 'ğŸ‡' },
                            { word: '×“×£', translation: '×“×£', emoji: 'ğŸ“„' },
                            { word: '×”×£', translation: '×”×£', emoji: 'ğŸ’¨' },
                            { word: '×•×£', translation: '×•×£', emoji: 'ğŸ¦' },
                            { word: '×–×£', translation: '×–×£', emoji: 'âš¡' },
                            { word: '×—×£', translation: '×—×£', emoji: 'ğŸ–ï¸' },
                            { word: '×˜×£', translation: '×˜×£', emoji: 'ğŸ‘¶' },
                            { word: '×™×£', translation: '×™×£', emoji: 'ğŸ˜' }
                        ]
                    },
                    '×¦': {
                        start: [
                            { word: '×¦×‘×¢', translation: '×¦×‘×¢', emoji: 'ğŸ¨' },
                            { word: '×¦×‘', translation: '×¦×‘', emoji: 'ğŸ¢' },
                            { word: '×¦×œ', translation: '×¦×œ', emoji: 'ğŸŒ²' },
                            { word: '×¦×¢×¦×•×¢', translation: '×¦×¢×¦×•×¢', emoji: 'ğŸ§¸' },
                            { word: '×¦×•×•××¨', translation: '×¦×•×•××¨', emoji: 'ğŸ¦’' },
                            { word: '×¦×—×§', translation: '×¦×—×§', emoji: 'ğŸ˜‚' },
                            { word: '×¦×¨×™×—', translation: '×¦×¨×™×—', emoji: 'ğŸ—¼' },
                            { word: '×¦×¤×•×Ÿ', translation: '×¦×¤×•×Ÿ', emoji: 'ğŸ§­' },
                            { word: '×¦×™× ×•×¨', translation: '×¦×™× ×•×¨', emoji: 'ğŸš°' },
                            { word: '×¦××—', translation: '×¦××—', emoji: 'ğŸŒ±' }
                        ],
                        middle: [
                            { word: '××¦×‘×¢', translation: '××¦×‘×¢', emoji: 'ğŸ‘†' },
                            { word: '×‘×¦×œ', translation: '×‘×¦×œ', emoji: 'ğŸ§…' },
                            { word: '×’×¦×‘×™', translation: '×’×¦×‘×™', emoji: 'ğŸ¦Œ' },
                            { word: '×“×¦××‘×¨', translation: '×“×¦××‘×¨', emoji: 'â„ï¸' },
                            { word: '×”×¦×’', translation: '×”×¦×’', emoji: 'ğŸ­' },
                            { word: '×•×¦×”', translation: '×•×¦×”', emoji: 'ğŸƒ' },
                            { word: '×–×¦×”', translation: '×–×¦×”', emoji: 'âš¡' },
                            { word: '×—×¦×™', translation: '×—×¦×™', emoji: 'Â½' },
                            { word: '×˜×¦×”', translation: '×˜×¦×”', emoji: 'ğŸ¯' },
                            { word: '×™×¦×', translation: '×™×¦×', emoji: 'ğŸšª' }
                        ],
                        end: [
                            { word: '××¥', translation: '××¥', emoji: 'ğŸ’¨' },
                            { word: '×‘×¥', translation: '×‘×¥', emoji: 'ğŸ¥š' },
                            { word: '×’×¥', translation: '×’×¥', emoji: 'âš¡' },
                            { word: '×“×¥', translation: '×“×¥', emoji: 'ğŸ¹' },
                            { word: '×”×¥', translation: '×”×¥', emoji: 'ğŸ’¨' },
                            { word: '×•×¥', translation: '×•×¥', emoji: 'ğŸ”—' },
                            { word: '×–×¥', translation: '×–×¥', emoji: 'âš¡' },
                            { word: '×—×¥', translation: '×—×¥', emoji: 'ğŸ¹' },
                            { word: '×˜×¥', translation: '×˜×¥', emoji: 'ğŸ¯' },
                            { word: '×™×¥', translation: '×™×¥', emoji: 'ğŸŒ' }
                        ]
                    }
                };

                // Add more letters with similar structure
                const additionalLetters = ['×š', '×', '×Ÿ', '×£', '×¥'];
                additionalLetters.forEach(letter => {
                    this.words[letter] = {
                        start: Array(10).fill().map((_, i) => ({
                            word: `${letter}${i + 1}`,
                            translation: `××™×œ×” ${i + 1}`,
                            emoji: 'ğŸ“'
                        })),
                        middle: Array(10).fill().map((_, i) => ({
                            word: `×${letter}${i + 1}`,
                            translation: `××™×œ×” ${i + 1}`,
                            emoji: 'ğŸ“'
                        })),
                        end: Array(10).fill().map((_, i) => ({
                            word: `${i + 1}${letter}`,
                            translation: `××™×œ×” ${i + 1}`,
                            emoji: 'ğŸ“'
                        }))
                    };
                });
            }

            populateWordsDisplay() {
                const wordsList = document.getElementById('wordsList');
                if (!wordsList) {
                    console.log('wordsList element not found');
                    return;
                }

                const allWords = [];

                // Collect all words with their emojis
                Object.keys(this.words).forEach(letter => {
                    ['start', 'middle', 'end'].forEach(position => {
                        if (this.words[letter][position]) {
                            this.words[letter][position].slice(0, 2).forEach(wordObj => {
                                allWords.push(`${wordObj.emoji} ${wordObj.word}`);
                            });
                        }
                    });
                });

                console.log('Total words collected:', allWords.length);

                // Clear existing content
                wordsList.innerHTML = '';

                // Display first 30 words to avoid overcrowding
                allWords.forEach(wordText => {
                    const wordItem = document.createElement('span');
                    wordItem.className = 'word-item';
                    wordItem.textContent = wordText;
                    wordsList.appendChild(wordItem);
                });

                console.log('Words display populated with', allWords.length, 'words');
            }

            async populateVoicesDisplay() {
                const voicesList = document.getElementById('voicesList');
                if (!voicesList) {
                    console.log('voicesList element not found');
                    return;
                }

                // Clear existing content
                voicesList.innerHTML = '<div class="voice-item">Loading voices...</div>';

                let voices = speechSynthesis.getVoices();

                try {
                    // Wait for voices to be loaded properly
                    voices = await this.waitForVoices();

                    // Clear loading message
                    voicesList.innerHTML = '';

                    if (voices.length === 0) {
                        voicesList.innerHTML = '<div class="voice-item">No voices available</div>';
                        return;
                    }
                } catch (error) {
                    console.error('Error loading voices:', error);
                    voicesList.innerHTML = '<div class="voice-item">Error loading voices</div>';
                    return;
                }

                console.log('Total voices available:', voices.length);

                // Separate Hebrew and other voices
                const hebrewVoices = voices.filter(voice =>
                    voice.lang.startsWith('he') || voice.lang.includes('IL')
                );
                const otherVoices = voices.filter(voice =>
                    !voice.lang.startsWith('he') && !voice.lang.includes('IL')
                );

                // Combine Hebrew first, then others (limit to 8 total)
                const prioritizedVoices = [
                    ...hebrewVoices.slice(0, 3),
                    ...otherVoices.slice(0, 5)
                ];

                // Display voices
                prioritizedVoices.forEach((voice) => {
                    const voiceItem = document.createElement('div');
                    voiceItem.className = 'voice-item';

                    // Add hebrew class for Hebrew voices
                    if (voice.lang.startsWith('he') || voice.lang.includes('IL')) {
                        voiceItem.classList.add('hebrew');
                    }

                    // Display voice name and language
                    let voiceText = `${voice.name} (${voice.lang})`;
                    if (voice.default) voiceText += ' â­';

                    voiceItem.textContent = voiceText;
                    voicesList.appendChild(voiceItem);
                });

                console.log('Voices display populated with', prioritizedVoices.length, 'voices');
            }

            initializeVoiceSelection() {
                const voiceSelect = document.getElementById('voiceSelect');
                const selectedVoiceInfo = document.getElementById('selectedVoiceInfo');

                if (!voiceSelect) return;

                // Function to populate voices dropdown
                const populateVoiceDropdown = () => {
                    const voices = speechSynthesis.getVoices();

                    if (voices.length === 0) {
                        setTimeout(populateVoiceDropdown, 100);
                        return;
                    }

                    // Clear existing options
                    voiceSelect.innerHTML = '';

                    // Separate Hebrew and other voices
                    const hebrewVoices = voices.filter(voice =>
                        voice.lang.startsWith('he') || voice.lang.includes('IL')
                    );
                    const otherVoices = voices.filter(voice =>
                        !voice.lang.startsWith('he') && !voice.lang.includes('IL')
                    );

                    // Add Hebrew voices first
                    if (hebrewVoices.length > 0) {
                        const hebrewGroup = document.createElement('optgroup');
                        hebrewGroup.label = '×¢×‘×¨×™×ª (Hebrew)';
                        hebrewVoices.forEach(voice => {
                            const option = document.createElement('option');
                            option.value = voice.name;
                            option.textContent = `${voice.name} (${voice.lang})${voice.default ? ' â­' : ''}`;
                            hebrewGroup.appendChild(option);
                        });
                        voiceSelect.appendChild(hebrewGroup);
                    }

                    // Add other voices
                    if (otherVoices.length > 0) {
                        const otherGroup = document.createElement('optgroup');
                        otherGroup.label = 'Other Languages';
                        otherVoices.forEach(voice => {
                            const option = document.createElement('option');
                            option.value = voice.name;
                            option.textContent = `${voice.name} (${voice.lang})${voice.default ? ' â­' : ''}`;
                            otherGroup.appendChild(option);
                        });
                        voiceSelect.appendChild(otherGroup);
                    }

                    // Set default selection (prefer Hebrew voice)
                    const hebrewVoice = hebrewVoices.find(voice => voice.default) || hebrewVoices[0];
                    const defaultVoice = hebrewVoice || voices.find(voice => voice.default) || voices[0];

                    if (defaultVoice) {
                        voiceSelect.value = defaultVoice.name;
                        this.selectedVoice = defaultVoice;
                        this.updateSelectedVoiceInfo();
                    }
                };

                // Voice selection change handler
                voiceSelect.addEventListener('change', (e) => {
                    const voices = speechSynthesis.getVoices();
                    this.selectedVoice = voices.find(voice => voice.name === e.target.value);
                    this.updateSelectedVoiceInfo();
                });

                // Load voices
                populateVoiceDropdown();

                // Chrome loads voices asynchronously
                window.speechSynthesis.onvoiceschanged = () => {
                    populateVoiceDropdown();
                };
            }

            updateSelectedVoiceInfo() {
                const selectedVoiceInfo = document.getElementById('selectedVoiceInfo');
                if (!selectedVoiceInfo || !this.selectedVoice) return;

                selectedVoiceInfo.textContent = `× ×‘×—×¨: ${this.selectedVoice.name} (${this.selectedVoice.lang})${this.selectedVoice.default ? ' - ×§×•×œ ×‘×¨×™×¨×ª ××—×“×œ' : ''}`;
            }

            initializeUI() {
                // Hebrew alphabet in correct order ×-×ª
                const hebrewAlphabet = [
                    '×', '×‘', '×’', '×“', '×”', '×•', '×–', '×—', '×˜', '×™',
                    '×›', '×œ', '×', '× ', '×¡', '×¢', '×¤', '×¦', '×§', '×¨',
                    '×©', '×ª'
                ];

                // Filter to only include letters that have words defined
                const availableLetters = hebrewAlphabet.filter(letter => this.words[letter]);
                const lettersGrid = document.getElementById('lettersGrid');

                availableLetters.forEach(letter => {
                    const btn = document.createElement('button');
                    btn.className = 'letter-btn';
                    btn.textContent = letter;
                    btn.addEventListener('click', () => this.selectLetter(letter));
                    lettersGrid.appendChild(btn);
                });

                this.updateScore();
                this.updateSimilarityScore();

                // Populate displays after DOM elements are ready
                this.populateWordsDisplay();
                this.populateVoicesDisplay(); // Now async but doesn't need await
            }

            setupEventListeners() {
                // Position selector
                document.querySelectorAll('.position-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.position-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentPosition = e.target.dataset.position;
                        if (this.selectedLetter) {
                            this.loadRandomWord();
                        }
                    });
                });

                // Control buttons
                document.getElementById('playWordBtn').addEventListener('click', () => this.playWord());
                document.getElementById('recordBtn').addEventListener('click', () => this.toggleRecording());
                document.getElementById('playRecordingBtn').addEventListener('click', () => this.playRecording());
                document.getElementById('analyzeSimilarityBtn').addEventListener('click', () => this.analyzeSimilarity());
                document.getElementById('nextWordBtn').addEventListener('click', () => this.loadRandomWord());

                // TTS Method selection
                const ttsMethodSelect = document.getElementById('ttsMethodSelect');
                if (ttsMethodSelect) {
                    ttsMethodSelect.addEventListener('change', () => this.updateTTSMethodInfo());
                }
            }

            updateTTSMethodInfo() {
                const ttsMethodSelect = document.getElementById('ttsMethodSelect');
                const selectedTTSInfo = document.getElementById('selectedTTSInfo');

                if (!ttsMethodSelect || !selectedTTSInfo) return;

                const selectedMethod = ttsMethodSelect.value;
                let infoText = '';

                switch (selectedMethod) {
                    case 'playWithLocalTTS':
                        infoText = '× ×‘×—×¨: TTS ××§×•××™ (×“×¤×“×¤×Ÿ) - ××©×ª××© ×‘×§×•×œ×•×ª ×”××¢×¨×›×ª';
                        break;
                    case 'playWithGoogleTTSProxy':
                    default:
                        infoText = '× ×‘×—×¨: Google TTS (×“×¨×š Proxy) - ×¢×•×§×£ ×—×¡×™××•×ª CORS';
                        break;
                }

                selectedTTSInfo.textContent = infoText;
            }

            async autoSelectTTSMethod() {
                // Wait for voices to be loaded
                const voices = await this.waitForVoices();

                // Check if Hebrew voices are available
                const hebrewVoices = voices.filter(voice =>
                    voice.lang.toLowerCase().includes('he') ||
                    voice.lang.toLowerCase().includes('iw') ||
                    voice.name.toLowerCase().includes('hebrew') ||
                    voice.name.toLowerCase().includes('×¢×‘×¨×™×ª')
                );

                console.log('Available Hebrew voices:', hebrewVoices.length);
                console.log('Hebrew voices found:', hebrewVoices.map(v => `${v.name} (${v.lang})`));

                const ttsMethodSelect = document.getElementById('ttsMethodSelect');
                if (!ttsMethodSelect) return;

                if (hebrewVoices.length > 0) {
                    // Hebrew voices available - use local TTS
                    ttsMethodSelect.value = 'playWithLocalTTS';
                    console.log('âœ… Hebrew voices found - selecting Local TTS');
                } else {
                    // No Hebrew voices - use Google TTS Proxy
                    ttsMethodSelect.value = 'playWithGoogleTTSProxy';
                    console.log('âŒ No Hebrew voices found - selecting Google TTS Proxy');
                }

                // Update the info text after selection
                this.updateTTSMethodInfo();
            }

            async waitForVoices() {
                return new Promise((resolve) => {
                    const voices = speechSynthesis.getVoices();
                    if (voices.length > 0) {
                        resolve(voices);
                    } else {
                        speechSynthesis.onvoiceschanged = () => {
                            resolve(speechSynthesis.getVoices());
                        };
                    }
                });
            }

            selectLetter(letter) {
                document.querySelectorAll('.letter-btn').forEach(btn => btn.classList.remove('selected'));
                event.target.classList.add('selected');

                this.selectedLetter = letter;
                document.getElementById('gameArea').classList.add('active');
                this.loadRandomWord();
                this.showFeedback(`× ×‘×—×¨×” ×”××•×ª: ${letter}`, 'info');
            }

            loadRandomWord() {
                if (!this.selectedLetter) return;

                const wordsForPosition = this.words[this.selectedLetter][this.currentPosition];
                const randomIndex = Math.floor(Math.random() * wordsForPosition.length);
                this.currentWord = wordsForPosition[randomIndex];

                document.getElementById('wordImage').textContent = this.currentWord.emoji;
                document.getElementById('wordText').textContent = this.currentWord.word;
                document.getElementById('wordTranslation').textContent = this.currentWord.translation;

                // Reset recording state
                document.getElementById('playRecordingBtn').disabled = true;
                document.getElementById('analyzeSimilarityBtn').disabled = true;
                this.recordedAudio = null;
                document.getElementById('feedback').style.display = 'none';
            }

            async playWord() {
                if (!this.currentWord) return;

                // Get selected TTS method from dropdown
                const ttsMethodSelect = document.getElementById('ttsMethodSelect');
                const selectedMethod = ttsMethodSelect ? ttsMethodSelect.value : 'playWithLocalTTS';

                // Call the appropriate TTS method
                switch (selectedMethod) {
                    case 'playWithLocalTTS':
                        this.playWithLocalTTS();
                        break;
                    case 'playWithGoogleTTSProxy':
                    default:
                        this.playWithGoogleTTSProxy();
                        break;
                }
            }

            async playWithLocalTTS() {
                try {
                    // Check if speech synthesis is available
                    if ('speechSynthesis' in window) {
                        // Cancel any ongoing speech
                        speechSynthesis.cancel();

                        // Wait for voices to be loaded with Promise-based approach
                        const voices = await this.waitForVoices();

                        // Check if Hebrew voices are available
                        const hebrewVoices = voices.filter(voice =>
                            voice.lang.toLowerCase().includes('he') ||
                            voice.lang.toLowerCase().includes('iw') ||
                            voice.name.toLowerCase().includes('hebrew') ||
                            voice.name.toLowerCase().includes('×¢×‘×¨×™×ª') ||
                            voice.lang.startsWith('he') ||
                            voice.lang.includes('IL')
                        );

                        // If no Hebrew voices available, fallback to Google TTS Proxy
                        if (hebrewVoices.length === 0) {
                            console.log('No Hebrew voices available in local TTS, falling back to Google TTS Proxy');
                            this.showFeedback('ğŸ”Š ××™×Ÿ ×§×•×œ×•×ª ×¢×‘×¨×™×™× ×–××™× ×™×, ××©×ª××© ×‘-Google TTS', 'info');
                            return this.playWithGoogleTTSProxy();
                        }

                        const utterance = new SpeechSynthesisUtterance(this.currentWord.word);

                        // PC settings
                        utterance.rate = 0.7;
                        utterance.pitch = 1.0;
                        utterance.volume = 1.0;

                        // Use the selected voice from dropdown if available
                        let selectedVoice = this.selectedVoice;

                        // If no voice selected from dropdown, fall back to automatic selection
                        if (!selectedVoice) {
                            const availableVoices = speechSynthesis.getVoices();
                            console.log('No voice selected, finding best voice from:', availableVoices.map(v => `${v.name} (${v.lang})`));

                            // First try any Hebrew voices
                            selectedVoice = availableVoices.find(voice =>
                                voice.lang.startsWith('he') || voice.lang.includes('IL')
                            );

                            // If no Hebrew, try Arabic (similar sounds)
                            if (!selectedVoice) {
                                selectedVoice = availableVoices.find(voice =>
                                    voice.lang.startsWith('ar')
                                );
                            }

                            // If no Hebrew/Arabic, try any voice that's not English as fallback
                            if (!selectedVoice) {
                                selectedVoice = availableVoices.find(voice =>
                                    !voice.lang.startsWith('en')
                                );
                            }

                            // Last resort: use default voice
                            if (!selectedVoice && availableVoices.length > 0) {
                                selectedVoice = availableVoices[0];
                            }
                        }

                        if (selectedVoice) {
                            utterance.voice = selectedVoice;
                            utterance.lang = selectedVoice.lang;
                            console.log('Using voice:', selectedVoice.name, selectedVoice.lang);
                        } else {
                            utterance.lang = 'he-IL';
                        }

                        utterance.onerror = (event) => {
                            console.error('Speech synthesis error:', event.error);
                        };

                        utterance.onend = () => {
                            console.log('Speech synthesis completed successfully');
                        };

                        speechSynthesis.speak(utterance);

                    }
                } catch (error) {
                    console.error('Speech synthesis error:', error);
                }
            }



            async playWithGoogleTTSProxy() {
                // Check if the browser supports web audio. Safari wants a prefix.
                if (!('AudioContext' in window || 'webkitAudioContext' in window)) {
                    console.log('Web Audio not supported, falling back to local TTS');
                    return this.playWithLocalTTS();
                }

                try {
                    console.log('ğŸ”Š Starting Google TTS with proxy...');

                    const word = encodeURIComponent(this.currentWord.word);
                    const googleTTSUrl = `https://translate.google.com/translate_tts?ie=UTF-8&tl=he&client=tw-ob&q=${word}`;
                    const proxyUrl = 'https://api.codetabs.com/v1/proxy?quest=';
                    const URL = proxyUrl + encodeURIComponent(googleTTSUrl);

                    console.log('Word:', this.currentWord.word);
                    console.log('Using proxy URL:', URL);

                    // Initialize AudioContext - Make it crossbrowser
                    if (!this.audioContext) {
                        const AudioContext = window.AudioContext || window.webkitAudioContext;
                        this.audioContext = new AudioContext();
                        this.gainNode = this.audioContext.createGain();
                        this.gainNode.gain.value = 1; // set volume to 100%
                    }

                    //////////////////////////////////////////////////
                    // Here's the part for just playing an audio file.
                    //////////////////////////////////////////////////
                    const play = (audioBuffer) => {
                        const source = this.audioContext.createBufferSource();
                        source.buffer = audioBuffer;
                        source.connect(this.audioContext.destination);
                        source.start();

                        console.log('âœ… Proxy TTS playback successful!');
                        this.showFeedback(`ğŸ”Š ××©××™×¢: ${this.currentWord.word} (Proxy)`, 'success');
                    };

                    //////////////////////////////////////////////////
                    // Here's the part for unlocking the audio context, probably for iOS only
                    //////////////////////////////////////////////////
                    const unlock = () => {
                        console.log("unlocking audio context");
                        // create empty buffer and play it
                        const buffer = this.audioContext.createBuffer(1, 1, 22050);
                        const source = this.audioContext.createBufferSource();
                        source.buffer = buffer;
                        source.connect(this.audioContext.destination);

                        // play the file. noteOn is the older version of start()
                        source.start ? source.start(0) : source.noteOn(0);

                        // by checking the play state after some time, we know if we're really unlocked
                        setTimeout(() => {
                            if ((source.playbackState === source.PLAYING_STATE || source.playbackState === source.FINISHED_STATE)) {
                                console.log("Audio context unlocked successfully");
                            }
                        }, 0);
                    };

                    // Try to unlock audio context for iOS
                    unlock();

                    // The Promise-based syntax for BaseAudioContext.decodeAudioData() is not supported in Safari(Webkit).
                    const response = await window.fetch(URL);

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const arrayBuffer = await response.arrayBuffer();

                    // Use callback-based decodeAudioData for Safari compatibility
                    this.audioContext.decodeAudioData(
                        arrayBuffer,
                        audioBuffer => {
                            play(audioBuffer);
                        },
                        error => {
                            console.error('Audio decode error:', error);
                            throw error;
                        }
                    );

                } catch (error) {
                    console.error('âŒ Google TTS with proxy failed:', error);

                    if (error.name === 'TypeError' && error.message.includes('Failed to fetch')) {
                        this.showFeedback('ğŸŒ ×‘×¢×™×™×ª ×¨×©×ª - ×œ× × ×™×ª×Ÿ ×œ×”×ª×—×‘×¨ ×œ×©×™×¨×•×ª Proxy', 'info');
                    } else if (error.message.includes('HTTP')) {
                        this.showFeedback(`ğŸŒ ×©×’×™××ª Proxy: ${error.message}`, 'info');
                    } else if (error.name === 'NotAllowedError') {
                        this.showFeedback('ğŸ”Š ×™×© ×œ××©×¨ ×”×©××¢×ª ×§×•×œ ×‘×“×¤×“×¤×Ÿ', 'info');
                    } else {
                        this.showFeedback(`ğŸ”Š ×©×’×™××ª Proxy: ${error.message}`, 'info');
                    }

                    // Fallback to local TTS
                    console.log('Falling back to local TTS...');
                    this.playWithLocalTTS();
                }
            }

            async toggleRecording() {
                if (this.isRecording) {
                    this.stopRecording();
                } else {
                    await this.startRecording();
                }
            }

            async startRecording() {
                // Check if we're in an iframe (Claude.ai environment)
                if (window !== window.top) {
                    this.showFeedback('ğŸ“± ×œ×”×§×œ×˜×ª ×§×•×œ, ×©××•×¨ ××ª ×”××©×—×§ ×›×§×•×‘×¥ HTML ×•×¤×ª×— ×‘×“×¤×“×¤×Ÿ', 'info');
                    return;
                }

                // Check if APIs are available
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    this.showFeedback('ğŸ¤ ×”×§×œ×˜×ª ×§×•×œ ×œ× × ×ª××›×ª ×‘×¡×‘×™×‘×” ×–×•', 'info');
                    return;
                }

                try {
                    // Request microphone permission with more specific constraints
                    const stream = await navigator.mediaDevices.getUserMedia({
                        audio: {
                            echoCancellation: true,
                            noiseSuppression: true,
                            autoGainControl: true
                        }
                    });

                    // Choose the best supported MIME type
                    let mimeType = 'audio/wav'; // fallback
                    const supportedTypes = [
                        'audio/webm;codecs=opus',
                        'audio/webm',
                        'audio/ogg;codecs=opus',
                        'audio/mp4',
                        'audio/wav'
                    ];

                    for (const type of supportedTypes) {
                        if (MediaRecorder.isTypeSupported(type)) {
                            mimeType = type;
                            break;
                        }
                    }

                    this.mediaRecorder = new MediaRecorder(stream, { mimeType });
                    this.audioChunks = [];

                    this.mediaRecorder.ondataavailable = (event) => {
                        if (event.data.size > 0) {
                            this.audioChunks.push(event.data);
                        }
                    };

                    this.mediaRecorder.onstop = () => {
                        try {
                            const audioBlob = new Blob(this.audioChunks, {
                                type: this.mediaRecorder.mimeType || 'audio/wav'
                            });
                            const audioUrl = window.nativeCreateObjectURL(audioBlob);
                            this.recordedAudio = new Audio(audioUrl);

                            // Add error handling for audio loading
                            this.recordedAudio.onerror = (e) => {
                                console.error('Audio loading error:', e);
                                this.showFeedback('×©×’×™××” ×‘×˜×¢×™× ×ª ×”×”×§×œ×˜×”', 'info');
                            };

                            this.recordedAudio.onloadeddata = () => {
                                document.getElementById('playRecordingBtn').disabled = false;
                                document.getElementById('analyzeSimilarityBtn').disabled = false;
                                this.showFeedback('×”×§×œ×˜×” ×”×•×©×œ××”! ×œ×—×¥ ×¢×œ â–¶ï¸ ×›×“×™ ×œ×©××•×¢ ××• ğŸ¯ ×›×“×™ ×œ×‘×“×•×§ ×“××™×•×Ÿ', 'success');
                            };

                            // Stop all tracks to free up the microphone
                            stream.getTracks().forEach(track => track.stop());
                        } catch (error) {
                            console.error('Error processing recording:', error);
                            this.showFeedback('×©×’×™××” ×‘×¢×™×‘×•×“ ×”×”×§×œ×˜×”', 'info');
                        }
                    };

                    this.mediaRecorder.onerror = (event) => {
                        console.error('MediaRecorder error:', event.error);
                        this.showFeedback('×©×’×™××” ×‘×”×§×œ×˜×”: ' + event.error.message, 'info');
                    };

                    this.mediaRecorder.start();
                    this.isRecording = true;

                    document.getElementById('recordBtn').textContent = 'â¹ï¸ ×¢×¦×•×¨ ×”×§×œ×˜×”';
                    document.getElementById('recordingIndicator').classList.add('active');

                    this.showFeedback('××§×œ×™×˜... ×“×‘×¨ ×¢×›×©×™×•!', 'info');

                    // Set 10-second timeout to automatically stop recording
                    this.recordingTimeout = setTimeout(() => {
                        if (this.isRecording) {
                            this.stopRecording();
                            this.showFeedback('×”×§×œ×˜×” × ×¢×¦×¨×” ××•×˜×•××˜×™×ª ×œ××—×¨ 10 ×©× ×™×•×ª', 'info');
                        }
                    }, 10000);

                } catch (error) {
                    console.error('Error accessing microphone:', error);

                    let errorMessage = '';
                    if (error.name === 'NotAllowedError') {
                        errorMessage = 'ğŸ”’ ××™×©×•×¨ ××™×§×¨×•×¤×•×Ÿ × ×“×¨×©. ×œ×—×¥ ×¢×œ ×”× ×¢×™×œ×” ×‘×›×ª×•×‘×ª ×•××¤×©×¨ ××™×§×¨×•×¤×•×Ÿ, ××• ×©××•×¨ ×›×§×•×‘×¥ HTML';
                    } else if (error.name === 'NotFoundError') {
                        errorMessage = 'ğŸ¤ ×œ× × ××¦× ××™×§×¨×•×¤×•×Ÿ ×‘××›×©×™×¨';
                    } else if (error.name === 'NotSupportedError') {
                        errorMessage = 'ğŸ“± ×©××•×¨ ××ª ×”××©×—×§ ×›×§×•×‘×¥ HTML ×œ×ª××™×›×” ××œ××” ×‘××™×§×¨×•×¤×•×Ÿ';
                    } else {
                        errorMessage = 'âš ï¸ ×©×’×™××ª ××™×§×¨×•×¤×•×Ÿ: ' + error.message;
                    }

                    this.showFeedback(errorMessage, 'info');

                    // Add download button for HTML version
                    this.addDownloadButton();
                }
            }

            addDownloadButton() {
                const existingBtn = document.getElementById('downloadBtn');
                if (existingBtn) return;

                const downloadBtn = document.createElement('button');
                downloadBtn.id = 'downloadBtn';
                downloadBtn.className = 'btn btn-primary';
                downloadBtn.innerHTML = 'ğŸ’¾ ×©××•×¨ ××©×—×§ ×œ××—×©×‘';
                downloadBtn.onclick = () => this.downloadGame();

                document.querySelector('.controls').appendChild(downloadBtn);
            }

            downloadGame() {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = window.nativeCreateObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = 'hebrew-letter-game.html';
                a.click();

                window.nativeRevokeObjectURL(url);
                this.showFeedback('×”××©×—×§ × ×©××¨! ×¤×ª×— ××ª ×”×§×•×‘×¥ ×‘×“×¤×“×¤×Ÿ', 'success');
            }

            stopRecording() {
                // Clear the recording timeout if it exists
                if (this.recordingTimeout) {
                    clearTimeout(this.recordingTimeout);
                    this.recordingTimeout = null;
                }

                if (this.mediaRecorder && this.mediaRecorder.state === 'recording') {
                    this.mediaRecorder.stop();
                }

                this.isRecording = false;
                document.getElementById('recordBtn').textContent = 'ğŸ¤ ×”×§×œ×˜ ×§×•×œ×š';
                document.getElementById('recordingIndicator').classList.remove('active');
            }

            playRecording() {
                if (this.recordedAudio) {
                    try {
                        const playPromise = this.recordedAudio.play();

                        if (playPromise !== undefined) {
                            playPromise.then(() => {
                                this.score += 10;
                                this.updateScore();
                                this.showFeedback('×›×œ ×”×›×‘×•×“! ×§×™×‘×œ×ª 10 × ×§×•×“×•×ª!', 'success');
                            }).catch(error => {
                                console.error('Audio playback error:', error);
                                this.showFeedback('×©×’×™××” ×‘×”×©××¢×ª ×”×”×§×œ×˜×”', 'info');
                            });
                        }
                    } catch (error) {
                        console.error('Audio playback error:', error);
                        this.showFeedback('×©×’×™××” ×‘×”×©××¢×ª ×”×”×§×œ×˜×”', 'info');
                    }
                } else {
                    this.showFeedback('××™×Ÿ ×”×§×œ×˜×” ×–××™× ×”', 'info');
                }
            }

            updateScore() {
                document.getElementById('score').textContent = `× ×™×§×•×“: ${this.score}`;
            }

            updateSimilarityScore() {
                document.getElementById('similarityScore').textContent = `×“××™×•×Ÿ: ${this.similarityScore}%`;
            }

            initializeSpeechRecognition() {
                // Check if speech recognition is available
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.speechRecognition = new SpeechRecognition();

                    // Configure speech recognition for Hebrew (with fallback to English)
                    this.speechRecognition.lang = 'he-IL';
                    this.speechRecognition.interimResults = true; // Get interim results
                    this.speechRecognition.maxAlternatives = 3; // Get multiple alternatives
                    this.speechRecognition.continuous = true; // Keep listening

                    this.speechRecognition.onresult = (event) => {
                        console.log('Speech recognition result event:', event);

                        // Get the latest result
                        const lastResultIndex = event.results.length - 1;
                        const result = event.results[lastResultIndex];

                        if (result.isFinal) {
                            // Final result - use this for calculation
                            let bestTranscript = '';
                            for (let i = 0; i < result.length; i++) {
                                const transcript = result[i].transcript.trim();
                                if (transcript) {
                                    bestTranscript = transcript;
                                    console.log(`Alternative ${i}:`, transcript, 'confidence:', result[i].confidence);
                                    break;
                                }
                            }

                            this.recognizedText = bestTranscript;
                            console.log('Final recognized text:', this.recognizedText);
                            console.log('Target word:', this.currentWord.word);

                            // Stop listening after getting final result
                            this.speechRecognition.stop();

                            if (this.recognizedText) {
                                this.calculateSimilarity();
                            } else {
                                this.showFeedback('×œ× ×–×•×”×” ×“×™×‘×•×¨ ×‘×¨×•×¨. × ×¡×” ×©×•×‘', 'info');
                            }
                        } else {
                            // Interim result - just show we're getting something
                            const transcript = result[0].transcript;
                            console.log('Interim result:', transcript);
                            if (transcript.trim()) {
                                this.showFeedback('×–×•×”×”: ' + transcript + ' (×××©×™×š ×œ×–×”×•×ª...)', 'info');
                            }
                        }
                    };

                    this.speechRecognition.onerror = (event) => {
                        console.error('Speech recognition error:', event.error);

                        // Provide specific error messages
                        if (event.error === 'no-speech') {
                            // Try to restart recognition automatically once
                            if (!this.speechRetryAttempted) {
                                this.speechRetryAttempted = true;
                                console.log('Retrying speech recognition...');
                                setTimeout(() => {
                                    try {
                                        this.speechRecognition.start();
                                        this.showFeedback('×× ×¡×” ×©×•×‘... ×“×‘×¨ ×¢×›×©×™×•!', 'info');
                                    } catch (e) {
                                        console.error('Retry failed:', e);
                                        this.showFeedback('×œ× ×–×•×”×” ×“×™×‘×•×¨. ×•×“× ×©×”××™×§×¨×•×¤×•×Ÿ ×¤×•×¢×œ', 'info');
                                    }
                                }, 500);
                            } else if (!this.englishFallbackAttempted) {
                                // Try English as fallback
                                this.englishFallbackAttempted = true;
                                console.log('Trying English speech recognition as fallback...');
                                this.speechRecognition.lang = 'en-US';
                                setTimeout(() => {
                                    try {
                                        this.speechRecognition.start();
                                        this.showFeedback('×× ×¡×” ×‘×× ×’×œ×™×ª... ×××•×¨ ××ª ×”××™×œ×” ×‘×× ×’×œ×™×ª!', 'info');
                                    } catch (e) {
                                        console.error('English fallback failed:', e);
                                        this.offerManualInput();
                                    }
                                }, 500);
                            } else {
                                this.offerManualInput();
                            }
                        } else if (event.error === 'not-allowed') {
                            this.showFeedback('×™×© ×œ××©×¨ ×’×™×©×” ×œ××™×§×¨×•×¤×•×Ÿ ×‘×“×¤×“×¤×Ÿ', 'info');
                        } else if (event.error === 'language-not-supported') {
                            // Fallback to English if Hebrew is not supported
                            console.log('Hebrew not supported, trying English...');
                            this.speechRecognition.lang = 'en-US';
                            this.englishFallbackAttempted = true;
                            this.showFeedback('×¢×‘×¨×™×ª ×œ× × ×ª××›×ª, ×× ×¡×” ×‘×× ×’×œ×™×ª...', 'info');
                            try {
                                this.speechRecognition.start();
                            } catch (e) {
                                console.error('English fallback failed:', e);
                                this.offerManualInput();
                            }
                        } else {
                            this.showFeedback('×©×’×™××” ×‘×–×™×”×•×™ ×“×™×‘×•×¨: ' + event.error, 'info');
                            this.offerManualInput();
                        }
                    };

                    this.speechRecognition.onend = () => {
                        console.log('Speech recognition ended');

                        // If no text was recognized, show message
                        if (!this.recognizedText) {
                            this.showFeedback('×œ× ×–×•×”×” ×“×™×‘×•×¨. ×•×“× ×©×”××™×§×¨×•×¤×•×Ÿ ×¤×•×¢×œ ×•× ×¡×” ×©×•×‘', 'info');
                        }
                    };
                } else {
                    console.log('Speech recognition not supported');
                }
            }

            analyzeSimilarity() {
                if (!this.currentWord) {
                    this.showFeedback('××™×Ÿ ××™×œ×” × ×•×›×—×™×ª ×œ× ×™×ª×•×—', 'info');
                    return;
                }

                if (!this.speechRecognition) {
                    this.showFeedback('×–×™×”×•×™ ×“×™×‘×•×¨ ×œ× × ×ª××š ×‘×“×¤×“×¤×Ÿ ×–×”', 'info');
                    return;
                }

                // Reset previous recognition
                this.recognizedText = '';
                this.similarityScore = 0;
                this.speechRetryAttempted = false;
                this.englishFallbackAttempted = false;
                this.speechRecognition.lang = 'he-IL'; // Reset to Hebrew
                this.updateSimilarityScore();

                try {
                    console.log('Starting speech recognition for word:', this.currentWord.word);
                    this.showFeedback('×××–×™×Ÿ ×œ×“×™×‘×•×¨... ×××•×¨ ××ª ×”××™×œ×” ×¢×›×©×™×•!', 'info');
                    this.speechRecognition.start();
                } catch (error) {
                    console.error('Speech recognition start error:', error);
                    if (error.name === 'InvalidStateError') {
                        // Speech recognition is already running, stop it first
                        this.speechRecognition.stop();
                        setTimeout(() => {
                            try {
                                this.speechRecognition.start();
                                this.showFeedback('×××–×™×Ÿ ×œ×“×™×‘×•×¨... ×××•×¨ ××ª ×”××™×œ×” ×¢×›×©×™×•!', 'info');
                            } catch (e) {
                                this.showFeedback('×©×’×™××” ×‘×”×¤×¢×œ×ª ×–×™×”×•×™ ×“×™×‘×•×¨: ' + e.message, 'info');
                                this.offerManualInput();
                            }
                        }, 100);
                    } else {
                        this.showFeedback('×©×’×™××” ×‘×”×¤×¢×œ×ª ×–×™×”×•×™ ×“×™×‘×•×¨: ' + error.message, 'info');
                        this.offerManualInput();
                    }
                }
            }

            calculateSimilarity() {
                if (!this.currentWord || !this.recognizedText) {
                    console.log('Missing data for similarity calculation:', {
                        currentWord: this.currentWord,
                        recognizedText: this.recognizedText
                    });
                    return;
                }

                const targetWord = this.currentWord.word;
                const spokenWord = this.recognizedText;

                console.log('Calculating similarity between:', { target: targetWord, spoken: spokenWord });

                // Calculate Levenshtein distance for similarity
                const similarity = this.calculateLevenshteinSimilarity(targetWord, spokenWord);
                this.similarityScore = Math.round(similarity * 100);

                console.log('Similarity score calculated:', this.similarityScore);
                this.updateSimilarityScore();

                // Provide feedback based on similarity score
                let feedback = '';
                let feedbackType = '';

                if (this.similarityScore >= 90) {
                    feedback = `××•×©×œ×! ×“××™×•×Ÿ ×©×œ ${this.similarityScore}% ğŸ‰`;
                    feedbackType = 'success';
                    this.score += 20; // Bonus points for excellent similarity
                } else if (this.similarityScore >= 70) {
                    feedback = `×˜×•×‘ ×××•×“! ×“××™×•×Ÿ ×©×œ ${this.similarityScore}% ğŸ‘`;
                    feedbackType = 'success';
                    this.score += 15;
                } else if (this.similarityScore >= 50) {
                    feedback = `×œ× ×¨×¢! ×“××™×•×Ÿ ×©×œ ${this.similarityScore}% - × ×¡×” ×©×•×‘ ğŸ˜Š`;
                    feedbackType = 'info';
                    this.score += 10;
                } else {
                    feedback = `×“××™×•×Ÿ ×©×œ ${this.similarityScore}% - ×”××©×š ×œ×”×ª×¨×’×œ ğŸ’ª`;
                    feedbackType = 'info';
                    this.score += 5;
                }

                this.updateScore();
                this.showFeedback(feedback, feedbackType);

                console.log(`Target: "${targetWord}", Spoken: "${spokenWord}", Similarity: ${this.similarityScore}%`);
            }

            calculateLevenshteinSimilarity(str1, str2) {
                // Normalize strings for comparison
                const s1 = str1.toLowerCase().replace(/[^\u0590-\u05FF]/g, ''); // Keep only Hebrew characters
                const s2 = str2.toLowerCase().replace(/[^\u0590-\u05FF]/g, '');

                if (s1.length === 0) return s2.length === 0 ? 1 : 0;
                if (s2.length === 0) return 0;

                // Create matrix for dynamic programming
                const matrix = Array(s2.length + 1).fill(null).map(() => Array(s1.length + 1).fill(null));

                // Initialize first row and column
                for (let i = 0; i <= s1.length; i++) matrix[0][i] = i;
                for (let j = 0; j <= s2.length; j++) matrix[j][0] = j;

                // Fill matrix
                for (let j = 1; j <= s2.length; j++) {
                    for (let i = 1; i <= s1.length; i++) {
                        const indicator = s1[i - 1] === s2[j - 1] ? 0 : 1;
                        matrix[j][i] = Math.min(
                            matrix[j][i - 1] + 1,     // deletion
                            matrix[j - 1][i] + 1,     // insertion
                            matrix[j - 1][i - 1] + indicator // substitution
                        );
                    }
                }

                // Calculate similarity percentage
                const maxLength = Math.max(s1.length, s2.length);
                const distance = matrix[s2.length][s1.length];
                return (maxLength - distance) / maxLength;
            }

            offerManualInput() {
                if (!this.currentWord) return;

                const userInput = prompt(`×–×™×”×•×™ ×”×“×™×‘×•×¨ ×œ× ×¢×‘×“. ×× × ×”×§×œ×“ ××ª ×”××™×œ×” "${this.currentWord.word}" ×›×¤×™ ×©××ª×” ××‘×˜× ××•×ª×”:`);

                if (userInput && userInput.trim()) {
                    this.recognizedText = userInput.trim();
                    console.log('Manual input received:', this.recognizedText);
                    console.log('Target word:', this.currentWord.word);
                    this.calculateSimilarity();
                } else {
                    this.showFeedback('× ×™×ª×•×— ×“××™×•×Ÿ ×‘×•×˜×œ', 'info');
                }
            }

            showFeedback(message, type) {
                const feedback = document.getElementById('feedback');
                feedback.textContent = message;
                feedback.className = `feedback ${type}`;
                feedback.style.display = 'block';

                setTimeout(() => {
                    feedback.style.display = 'none';
                }, 3000);
            }

            // Promise-based voice loading
            waitForVoices() {
                return new Promise((resolve) => {
                    let voices = speechSynthesis.getVoices();

                    // If voices are already loaded, resolve immediately
                    if (voices.length > 0) {
                        console.log('Voices already loaded:', voices.length);
                        resolve(voices);
                        return;
                    }

                    // If no voices, wait for them to load
                    console.log('Waiting for voices to load...');

                    let attempts = 0;
                    const maxAttempts = 10;

                    const checkVoices = () => {
                        voices = speechSynthesis.getVoices();
                        attempts++;

                        if (voices.length > 0) {
                            console.log(`Voices loaded after ${attempts} attempts:`, voices.length);
                            resolve(voices);
                        } else if (attempts >= maxAttempts) {
                            console.log('Max attempts reached, resolving with empty voices');
                            resolve(voices);
                        } else {
                            // Try again after a short delay
                            setTimeout(checkVoices, 200);
                        }
                    };

                    // Listen for voice changes
                    const onVoicesChanged = () => {
                        voices = speechSynthesis.getVoices();
                        if (voices.length > 0) {
                            console.log('Voices loaded via onvoiceschanged:', voices.length);
                            speechSynthesis.removeEventListener('voiceschanged', onVoicesChanged);
                            resolve(voices);
                        }
                    };

                    speechSynthesis.addEventListener('voiceschanged', onVoicesChanged);

                    // Start checking
                    checkVoices();

                    // Fallback timeout
                    setTimeout(() => {
                        speechSynthesis.removeEventListener('voiceschanged', onVoicesChanged);
                        console.log('Voice loading timeout, resolving with available voices');
                        const finalVoices = speechSynthesis.getVoices();
                        resolve(finalVoices);
                    }, 15000);
                });
            }

            // Voices will be displayed in static HTML section
        }

        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new HebrewLetterGame();
        });
    </script>

</body>

</html>